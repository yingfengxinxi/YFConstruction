{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-5373\"],{\"/407\":function(e,s,t){\"use strict\";t.r(s);var o={name:\"RelatedBusinessCell\",props:{type:{type:String,default:\"\"},cellIndex:Number,data:Object,showFoot:{type:Boolean,default:!0},cursorPointer:{type:Boolean,default:!0}},data:function(){return{}},computed:{typeName:function(){return\"customer\"==this.type?\"客户\":\"contacts\"==this.type?\"联系人\":\"business\"==this.type?\"商机\":\"contract\"==this.type?\"合同\":\"\"},name:function(){return this.data.name||this.data.businessName||this.data.customerName||this.data.number}},watch:{},mounted:function(){},beforeDestroy:function(){},methods:{footClick:function(){this.$emit(\"unbind\",this.type,this.cellIndex,this.data)},bodyClick:function(){this.$emit(\"detail\",this.type,this.cellIndex,this.data)}}},r=(t(\"/hyb\"),t(\"KHd+\")),n=Object(r.a)(o,function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(\"flexbox\",{staticClass:\"cell\"},[t(\"div\",{staticClass:\"cell-head\"},[t(\"i\",{class:e._f(\"wkIconPre\")(e.type)}),e._v(\" \"),t(\"span\",[e._v(\"\\n      \"+e._s(\"相关\"+e.typeName+\"-\")+\"\\n    \")])]),e._v(\" \"),t(\"div\",{staticClass:\"cell-body text-one-line\",class:{\"cursor-pointer\":e.cursorPointer},on:{click:e.bodyClick}},[e._v(\"\\n    \"+e._s(e.name)+\"\\n  \")]),e._v(\" \"),t(\"div\",{staticClass:\"cell-foot\"},[e.showFoot?t(\"a\",{staticClass:\"cancel-btn\",on:{click:e.footClick}},[e._v(\"取消关联\")]):e._e()])])},[],!1,null,\"061d0168\",null);n.options.__file=\"index.vue\";s.default=n.exports},\"/esw\":function(e,s,t){\"use strict\";t.r(s);var o=t(\"Flj7\"),r={name:\"TaskCell\",components:{},mixins:[t(\"kK4T\").default],props:{data:Object,dataIndex:Number,dataSection:Number},data:function(){return{}},computed:{priority:function(){return 0!=this.data.priority&&this.data.priority?this.getPriorityColor(this.data.priority):this.priorityList[3]},showLabels:function(){return this.data.labelList.length>3?this.data.labelList.slice(0,3):this.data.labelList},hideShowLabels:function(){return this.data.labelList.length>3?this.data.labelList.slice(3):[]}},watch:{},mounted:function(){},methods:{taskOverClick:function(e){var s=this;Object(o.p)({taskId:e.taskId,status:e.checked?5:1}).then(function(e){s.$emit(\"on-handle\",\"complete\",s.data,s.dataIndex,s.dataSection)}).catch(function(){e.checked=!1})},rowFun:function(e){this.$emit(\"on-handle\",\"view\",this.data,this.dataIndex,this.dataSection)},onmouseoverFun:function(e){this.$refs.itemSpan.offsetWidth>this.$refs.listLeft.offsetWidth-21?this.$set(e,\"show\",!0):this.$set(e,\"show\",!1)}}},n=(t(\"pSba\"),t(\"KHd+\")),a=Object(n.a)(r,function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(\"div\",{ref:\"taskRow\",staticClass:\"list task-cell\",on:{click:function(s){e.rowFun(e.data)}}},[t(\"div\",{ref:\"listLeft\",staticClass:\"list-left\"},[t(\"div\",{class:e.data.checked?\"title title-active\":\"title\",on:{click:function(e){e.stopPropagation()}}},[t(\"el-checkbox\",{on:{change:function(s){e.taskOverClick(e.data)}},model:{value:e.data.checked,callback:function(s){e.$set(e.data,\"checked\",s)},expression:\"data.checked\"}})],1),e._v(\" \"),t(\"span\",{staticClass:\"priority\",style:{backgroundColor:e.priority.color}},[e._v(e._s(e.priority.label))]),e._v(\" \"),1==e.data.isMilestone?t(\"i\",{staticClass:\"wk wk-tag\",staticStyle:{color:\"#f56c6c\",\"margin-right\":\"2px\"}}):e._e(),e._v(\" \"),t(\"el-tooltip\",{attrs:{placement:\"bottom\",effect:\"light\",\"popper-class\":\"task-tooltip tooltip-change-border\"}},[t(\"div\",{attrs:{slot:\"content\"},slot:\"content\"},[t(\"span\",[e._v(e._s(e.data.name))])]),e._v(\" \"),t(\"span\",{ref:\"itemSpan\",class:e.data.checked?\"item-name-active\":\"item-name\"},[e._v(\"\\n        \"+e._s(e.data.name)+\"\\n      \")])])],1),e._v(\" \"),t(\"div\",{staticClass:\"list-right\"},[e.data.labelList&&e.data.labelList.length>0?t(\"div\",{staticClass:\"tag-box\"},[e._l(e.showLabels,function(s,o){return t(\"span\",{key:o,staticClass:\"k-name\",style:{background:s.color}},[e._v(e._s(s.labelName))])}),e._v(\" \"),e.hideShowLabels.length?t(\"el-tooltip\",{attrs:{placement:\"top\",effect:\"light\",\"popper-class\":\"tooltip-change-border\"}},[t(\"div\",{staticClass:\"tooltip-content\",attrs:{slot:\"content\"},slot:\"content\"},e._l(e.hideShowLabels,function(s,o){return t(\"div\",{key:o,staticClass:\"item-label\",staticStyle:{display:\"inline-block\",\"margin-right\":\"10px\"}},[t(\"span\",{staticClass:\"k-name\",staticStyle:{\"border-radius\":\"3px\",color:\"#FFF\",padding:\"3px 10px\"},style:{background:s.color||\"#ccc\"}},[e._v(e._s(s.labelName))])])})),e._v(\" \"),t(\"el-button\",{staticClass:\"more-btn\",attrs:{icon:\"el-icon-more\"}})],1):e._e()],2):e._e(),e._v(\" \"),e.data.stopTime?t(\"span\",{class:[\"due-time\",{\"is-past\":1==e.data.isEnd}]},[e._v(\"\\n      截止时间\"+e._s(e._f(\"moment\")(e.data.stopTime,\"YYYY-MM-DD\"))+\"\\n    \")]):e._e(),e._v(\" \"),t(\"div\",{staticClass:\"img-group\"},[e.data.relationCount?t(\"div\",{staticClass:\"img-box\"},[t(\"i\",{staticClass:\"wukong wukong-relevance\"}),e._v(\" \"),t(\"span\",[e._v(e._s(e.data.relationCount))])]):e._e(),e._v(\" \"),e.data.childAllCount>0?t(\"div\",{staticClass:\"img-box\"},[t(\"i\",{staticClass:\"wukong wukong-sub-task\"}),e._v(\" \"),t(\"span\",[e._v(e._s(e.data.childWCCount)+\"/\"+e._s(e.data.childAllCount))])]):e._e(),e._v(\" \"),e.data.fileCount?t(\"div\",{staticClass:\"img-box\"},[t(\"i\",{staticClass:\"wukong wukong-file\"}),e._v(\" \"),t(\"span\",[e._v(e._s(e.data.fileCount))])]):e._e(),e._v(\" \"),e.data.commentCount?t(\"div\",{staticClass:\"img-box\"},[t(\"i\",{staticClass:\"wukong wukong-comment-task\"}),e._v(\" \"),t(\"span\",[e._v(e._s(e.data.commentCount))])]):e._e()]),e._v(\" \"),e.data.mainUser&&e.data.mainUser.userId?t(\"xr-avatar\",{staticClass:\"user-img\",attrs:{name:e.data.mainUser.realname,id:e.data.mainUser.userId,size:24,src:e.data.mainUser.img,disabled:!1,trigger:\"hover\"},on:{click:function(e){e.stopPropagation()}}}):e._e()],1)])},[],!1,null,\"bc933634\",null);a.options.__file=\"TaskCell.vue\";s.default=a.exports},\"/hyb\":function(e,s,t){\"use strict\";var o=t(\"KOLf\");t.n(o).a},\"08m3\":function(e,s){throw new Error(\"Module build failed (from ./node_modules/mini-css-extract-plugin/dist/loader.js):\\nModuleBuildError: Module build failed (from ./node_modules/sass-loader/lib/loader.js):\\nError: Node Sass does not yet support your current environment: Windows 64-bit with Unsupported runtime (93)\\nFor more information on which environments are supported please see:\\nhttps://github.com/sass/node-sass/releases/tag/v4.14.1\\n    at module.exports (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\node-sass\\\\lib\\\\binding.js:13:13)\\n    at Object.<anonymous> (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\node-sass\\\\lib\\\\index.js:14:35)\\n    at Module._compile (node:internal/modules/cjs/loader:1198:14)\\n    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1252:10)\\n    at Module.load (node:internal/modules/cjs/loader:1076:32)\\n    at Function.Module._load (node:internal/modules/cjs/loader:911:12)\\n    at Module.require (node:internal/modules/cjs/loader:1100:19)\\n    at require (node:internal/modules/cjs/helpers:119:18)\\n    at Object.sassLoader (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js:24:22)\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\webpack\\\\lib\\\\NormalModule.js:286:20\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:367:11\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:233:18\\n    at runSyncOrAsync (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:143:3)\\n    at iterateNormalLoaders (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:232:2)\\n    at iterateNormalLoaders (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:221:10)\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:236:3\\n    at context.callback (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:111:13)\\n    at processResources (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\lib\\\\utils\\\\processResources.js:58:10)\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\lib\\\\loader.js:76:38\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\node_modules\\\\async\\\\dist\\\\async.js:252:13\\n    at wrapper (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\node_modules\\\\async\\\\dist\\\\async.js:272:20)\\n    at iteratorCallback (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\node_modules\\\\async\\\\dist\\\\async.js:502:17)\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\node_modules\\\\async\\\\dist\\\\async.js:328:20\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\node_modules\\\\async\\\\dist\\\\async.js:249:17\\n    at rewritePaths (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\lib\\\\utils\\\\rewritePaths.js:60:3)\")},\"4p7F\":function(e,s){throw new Error(\"Module build failed (from ./node_modules/mini-css-extract-plugin/dist/loader.js):\\nModuleBuildError: Module build failed (from ./node_modules/sass-loader/lib/loader.js):\\nError: Node Sass does not yet support your current environment: Windows 64-bit with Unsupported runtime (93)\\nFor more information on which environments are supported please see:\\nhttps://github.com/sass/node-sass/releases/tag/v4.14.1\\n    at module.exports (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\node-sass\\\\lib\\\\binding.js:13:13)\\n    at Object.<anonymous> (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\node-sass\\\\lib\\\\index.js:14:35)\\n    at Module._compile (node:internal/modules/cjs/loader:1198:14)\\n    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1252:10)\\n    at Module.load (node:internal/modules/cjs/loader:1076:32)\\n    at Function.Module._load (node:internal/modules/cjs/loader:911:12)\\n    at Module.require (node:internal/modules/cjs/loader:1100:19)\\n    at require (node:internal/modules/cjs/helpers:119:18)\\n    at Object.sassLoader (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js:24:22)\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\webpack\\\\lib\\\\NormalModule.js:286:20\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:367:11\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:233:18\\n    at runSyncOrAsync (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:143:3)\\n    at iterateNormalLoaders (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:232:2)\\n    at iterateNormalLoaders (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:221:10)\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:236:3\\n    at context.callback (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:111:13)\\n    at processResources (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\lib\\\\utils\\\\processResources.js:58:10)\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\lib\\\\loader.js:76:38\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\node_modules\\\\async\\\\dist\\\\async.js:252:13\\n    at wrapper (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\node_modules\\\\async\\\\dist\\\\async.js:272:20)\\n    at iteratorCallback (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\node_modules\\\\async\\\\dist\\\\async.js:502:17)\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\node_modules\\\\async\\\\dist\\\\async.js:328:20\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\node_modules\\\\async\\\\dist\\\\async.js:249:17\\n    at rewritePaths (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\lib\\\\utils\\\\rewritePaths.js:60:3)\")},\"5pSV\":function(e,s,t){\"use strict\";var o=t(\"Rq8O\");t.n(o).a},\"5yli\":function(e,s){throw new Error(\"Module build failed (from ./node_modules/mini-css-extract-plugin/dist/loader.js):\\nModuleBuildError: Module build failed (from ./node_modules/sass-loader/lib/loader.js):\\nError: Node Sass does not yet support your current environment: Windows 64-bit with Unsupported runtime (93)\\nFor more information on which environments are supported please see:\\nhttps://github.com/sass/node-sass/releases/tag/v4.14.1\\n    at module.exports (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\node-sass\\\\lib\\\\binding.js:13:13)\\n    at Object.<anonymous> (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\node-sass\\\\lib\\\\index.js:14:35)\\n    at Module._compile (node:internal/modules/cjs/loader:1198:14)\\n    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1252:10)\\n    at Module.load (node:internal/modules/cjs/loader:1076:32)\\n    at Function.Module._load (node:internal/modules/cjs/loader:911:12)\\n    at Module.require (node:internal/modules/cjs/loader:1100:19)\\n    at require (node:internal/modules/cjs/helpers:119:18)\\n    at Object.sassLoader (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js:24:22)\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\webpack\\\\lib\\\\NormalModule.js:286:20\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:367:11\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:233:18\\n    at runSyncOrAsync (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:143:3)\\n    at iterateNormalLoaders (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:232:2)\\n    at iterateNormalLoaders (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:221:10)\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:236:3\\n    at context.callback (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:111:13)\\n    at processResources (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\lib\\\\utils\\\\processResources.js:58:10)\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\lib\\\\loader.js:76:38\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\node_modules\\\\async\\\\dist\\\\async.js:252:13\\n    at wrapper (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\node_modules\\\\async\\\\dist\\\\async.js:272:20)\\n    at iteratorCallback (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\node_modules\\\\async\\\\dist\\\\async.js:502:17)\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\node_modules\\\\async\\\\dist\\\\async.js:328:20\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\node_modules\\\\async\\\\dist\\\\async.js:249:17\\n    at rewritePaths (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\lib\\\\utils\\\\rewritePaths.js:60:3)\")},\"8NwJ\":function(e,s,t){\"use strict\";var o=t(\"Q5gn\");t.n(o).a},Bd1s:function(e,s,t){\"use strict\";var o=t(\"08m3\");t.n(o).a},C3Po:function(e,s,t){\"use strict\";t.r(s);var o=t(\"QbLZ\"),r=t.n(o),n=t(\"8GhS\"),a=t(\"zsVz\"),d={name:\"TaskQuickAdd\",components:{XhUserCell:n.p},props:{params:Object},data:function(){return{sendLoading:!1,isUnfold:!1,sendContent:\"\",sendStopTime:\"\",mainUser:[]}},computed:{createMainUser:function(){return this.mainUser&&this.mainUser.length?this.mainUser[0]:null}},watch:{},mounted:function(){},beforeDestroy:function(){},methods:{inputFocus:function(){var e=this;this.$emit(\"focus\"),this.isUnfold=!0,this.$nextTick(function(){e.$refs.input.focus()})},selectMainUser:function(e){this.mainUser=e.value},send:function(){var e=this;if(this.sendContent.length){this.sendLoading=!0;var s={name:this.sendContent,stopTime:this.sendStopTime,mainUserId:this.createMainUser?this.createMainUser.userId:\"\"};this.params&&(s=r()({},s,this.params)),Object(a.e)(s).then(function(s){e.sendLoading=!1,e.$message.success(\"新建成功\"),e.resetSendData(),e.$emit(\"send\")}).catch(function(){e.sendLoading=!1})}else this.$message.error(\"请填写任务标题\")},resetSendData:function(){this.sendContent=\"\",this.sendStopTime=\"\",this.mainUser=[],this.isUnfold=!1},addClose:function(){this.isUnfold=!1}}},l=(t(\"5pSV\"),t(\"KHd+\")),i=Object(l.a)(d,function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(\"div\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.sendLoading,expression:\"sendLoading\"}],staticClass:\"task-quick-add\",class:[\"add\",{unfold:e.isUnfold,\"is-close\":!e.isUnfold}]},[e.isUnfold?t(\"i\",{staticClass:\"wk wk-close\",on:{click:e.addClose}}):e._e(),e._v(\" \"),t(\"el-input\",{ref:\"input\",staticClass:\"input\",attrs:{maxlength:100,\"prefix-icon\":e.isUnfold?\"\":\"el-icon-plus\",placeholder:\"添加任务\"},on:{focus:e.inputFocus},model:{value:e.sendContent,callback:function(s){e.sendContent=s},expression:\"sendContent\"}}),e._v(\" \"),t(\"flexbox\",{staticClass:\"add-info\"},[t(\"el-date-picker\",{ref:\"endTime\",class:{\"no-time-top\":!e.sendStopTime},attrs:{type:\"date\",\"value-format\":\"yyyy-MM-dd\",placeholder:\"\"},model:{value:e.sendStopTime,callback:function(s){e.sendStopTime=s},expression:\"sendStopTime\"}}),e._v(\" \"),t(\"xh-user-cell\",{attrs:{value:e.mainUser,radio:\"\",placement:\"top\"},on:{\"value-change\":e.selectMainUser}},[t(\"div\",{staticClass:\"select-user\",attrs:{slot:\"reference\"},slot:\"reference\"},[e.createMainUser?t(\"xr-avatar\",{attrs:{name:e.createMainUser.realname,size:24,src:e.createMainUser.img}}):t(\"i\",{staticClass:\"wk wk-persons add-info--person\"})],1)])],1),e._v(\" \"),t(\"el-button\",{directives:[{name:\"debounce\",rawName:\"v-debounce\",value:e.send,expression:\"send\"}],staticClass:\"send-btn\",attrs:{icon:\"wk wk-top\",type:\"primary\"}},[e._v(\"发布\")])],1)},[],!1,null,\"38430333\",null);i.options.__file=\"TaskQuickAdd.vue\";s.default=i.exports},KOLf:function(e,s){throw new Error(\"Module build failed (from ./node_modules/mini-css-extract-plugin/dist/loader.js):\\nModuleBuildError: Module build failed (from ./node_modules/sass-loader/lib/loader.js):\\nError: Node Sass does not yet support your current environment: Windows 64-bit with Unsupported runtime (93)\\nFor more information on which environments are supported please see:\\nhttps://github.com/sass/node-sass/releases/tag/v4.14.1\\n    at module.exports (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\node-sass\\\\lib\\\\binding.js:13:13)\\n    at Object.<anonymous> (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\node-sass\\\\lib\\\\index.js:14:35)\\n    at Module._compile (node:internal/modules/cjs/loader:1198:14)\\n    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1252:10)\\n    at Module.load (node:internal/modules/cjs/loader:1076:32)\\n    at Function.Module._load (node:internal/modules/cjs/loader:911:12)\\n    at Module.require (node:internal/modules/cjs/loader:1100:19)\\n    at require (node:internal/modules/cjs/helpers:119:18)\\n    at Object.sassLoader (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js:24:22)\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\webpack\\\\lib\\\\NormalModule.js:286:20\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:367:11\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:233:18\\n    at runSyncOrAsync (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:143:3)\\n    at iterateNormalLoaders (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:232:2)\\n    at iterateNormalLoaders (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:221:10)\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:236:3\\n    at context.callback (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:111:13)\\n    at processResources (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\lib\\\\utils\\\\processResources.js:58:10)\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\lib\\\\loader.js:76:38\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\node_modules\\\\async\\\\dist\\\\async.js:252:13\\n    at wrapper (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\node_modules\\\\async\\\\dist\\\\async.js:272:20)\\n    at iteratorCallback (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\node_modules\\\\async\\\\dist\\\\async.js:502:17)\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\node_modules\\\\async\\\\dist\\\\async.js:328:20\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\node_modules\\\\async\\\\dist\\\\async.js:249:17\\n    at rewritePaths (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\lib\\\\utils\\\\rewritePaths.js:60:3)\")},Q5gn:function(e,s){throw new Error(\"Module build failed (from ./node_modules/mini-css-extract-plugin/dist/loader.js):\\nModuleBuildError: Module build failed (from ./node_modules/sass-loader/lib/loader.js):\\nError: Node Sass does not yet support your current environment: Windows 64-bit with Unsupported runtime (93)\\nFor more information on which environments are supported please see:\\nhttps://github.com/sass/node-sass/releases/tag/v4.14.1\\n    at module.exports (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\node-sass\\\\lib\\\\binding.js:13:13)\\n    at Object.<anonymous> (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\node-sass\\\\lib\\\\index.js:14:35)\\n    at Module._compile (node:internal/modules/cjs/loader:1198:14)\\n    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1252:10)\\n    at Module.load (node:internal/modules/cjs/loader:1076:32)\\n    at Function.Module._load (node:internal/modules/cjs/loader:911:12)\\n    at Module.require (node:internal/modules/cjs/loader:1100:19)\\n    at require (node:internal/modules/cjs/helpers:119:18)\\n    at Object.sassLoader (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js:24:22)\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\webpack\\\\lib\\\\NormalModule.js:286:20\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:367:11\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:233:18\\n    at runSyncOrAsync (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:143:3)\\n    at iterateNormalLoaders (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:232:2)\\n    at iterateNormalLoaders (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:221:10)\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:236:3\\n    at context.callback (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:111:13)\\n    at processResources (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\lib\\\\utils\\\\processResources.js:58:10)\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\lib\\\\loader.js:76:38\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\node_modules\\\\async\\\\dist\\\\async.js:252:13\\n    at wrapper (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\node_modules\\\\async\\\\dist\\\\async.js:272:20)\\n    at iteratorCallback (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\node_modules\\\\async\\\\dist\\\\async.js:502:17)\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\node_modules\\\\async\\\\dist\\\\async.js:328:20\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\node_modules\\\\async\\\\dist\\\\async.js:249:17\\n    at rewritePaths (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\lib\\\\utils\\\\rewritePaths.js:60:3)\")},Rq8O:function(e,s){throw new Error(\"Module build failed (from ./node_modules/mini-css-extract-plugin/dist/loader.js):\\nModuleBuildError: Module build failed (from ./node_modules/sass-loader/lib/loader.js):\\nError: Node Sass does not yet support your current environment: Windows 64-bit with Unsupported runtime (93)\\nFor more information on which environments are supported please see:\\nhttps://github.com/sass/node-sass/releases/tag/v4.14.1\\n    at module.exports (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\node-sass\\\\lib\\\\binding.js:13:13)\\n    at Object.<anonymous> (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\node-sass\\\\lib\\\\index.js:14:35)\\n    at Module._compile (node:internal/modules/cjs/loader:1198:14)\\n    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1252:10)\\n    at Module.load (node:internal/modules/cjs/loader:1076:32)\\n    at Function.Module._load (node:internal/modules/cjs/loader:911:12)\\n    at Module.require (node:internal/modules/cjs/loader:1100:19)\\n    at require (node:internal/modules/cjs/helpers:119:18)\\n    at Object.sassLoader (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js:24:22)\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\webpack\\\\lib\\\\NormalModule.js:286:20\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:367:11\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:233:18\\n    at runSyncOrAsync (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:143:3)\\n    at iterateNormalLoaders (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:232:2)\\n    at iterateNormalLoaders (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:221:10)\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:236:3\\n    at context.callback (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:111:13)\\n    at processResources (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\lib\\\\utils\\\\processResources.js:58:10)\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\lib\\\\loader.js:76:38\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\node_modules\\\\async\\\\dist\\\\async.js:252:13\\n    at wrapper (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\node_modules\\\\async\\\\dist\\\\async.js:272:20)\\n    at iteratorCallback (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\node_modules\\\\async\\\\dist\\\\async.js:502:17)\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\node_modules\\\\async\\\\dist\\\\async.js:328:20\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\node_modules\\\\async\\\\dist\\\\async.js:249:17\\n    at rewritePaths (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\lib\\\\utils\\\\rewritePaths.js:60:3)\")},cXmL:function(e,s,t){\"use strict\";t.r(s);var o=t(\"8GhS\"),r=t(\"7Qib\"),n={name:\"TaskFilter\",components:{XhUserCell:o.p},props:{dueDate:String,priority:String,users:Array,done:Boolean},data:function(){return{dueDateValue:\"\",priorityValue:\"\",doneValue:!1,usersList:[],priorityOptions:[{label:\"全部\",key:\"\"},{label:\"高\",key:\"3\"},{label:\"中\",key:\"2\"},{label:\"低\",key:\"1\"},{label:\"无\",key:\"0\"}]}},computed:{},watch:{},created:function(){this.dueDateValue=this.dueDate,this.priorityValue=this.priority,this.doneValue=this.done,this.usersList=Object(r.t)(this.users)},beforeDestroy:function(){},methods:{closeClick:function(){this.$emit(\"close\")},userChage:function(e){this.usersList=e.value},saveClick:function(){this.$emit(\"save\",this.dueDateValue,this.priorityValue,this.doneValue,this.usersList),this.$emit(\"close\")},handleDateClose:function(){this.$refs.filterDatePicker.pickerVisible=!1}}},a=(t(\"8NwJ\"),t(\"KHd+\")),d=Object(a.a)(n,function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(\"div\",{staticClass:\"task-filter\"},[e._m(0),e._v(\" \"),t(\"div\",{staticClass:\"task-filter__body\"},[t(\"el-form\",{ref:\"form\",attrs:{\"label-width\":\"80px\"}},[t(\"el-form-item\",{attrs:{label:\"负责人\"}},[t(\"xh-user-cell\",{staticClass:\"handle-item-content\",attrs:{value:e.users},on:{\"value-change\":e.userChage}})],1),e._v(\" \"),t(\"el-form-item\",{attrs:{label:\"截止时间\"}},[t(\"el-date-picker\",{directives:[{name:\"elclickoutside\",rawName:\"v-elclickoutside\",value:e.handleDateClose,expression:\"handleDateClose\"}],ref:\"filterDatePicker\",attrs:{type:\"date\",placeholder:\"选择日期\",\"value-format\":\"yyyy-MM-dd\"},model:{value:e.dueDateValue,callback:function(s){e.dueDateValue=s},expression:\"dueDateValue\"}})],1),e._v(\" \"),t(\"el-form-item\",{attrs:{label:\"优先级\"}},[t(\"el-select\",{model:{value:e.priorityValue,callback:function(s){e.priorityValue=s},expression:\"priorityValue\"}},e._l(e.priorityOptions,function(e){return t(\"el-option\",{key:e.key,attrs:{label:e.label,value:e.key}})}))],1),e._v(\" \"),t(\"el-form-item\",{attrs:{label:\"显示已完成\"}},[t(\"el-switch\",{model:{value:e.doneValue,callback:function(s){e.doneValue=s},expression:\"doneValue\"}})],1)],1)],1),e._v(\" \"),t(\"div\",{staticClass:\"task-filter__footer\"},[t(\"span\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[t(\"el-button\",{nativeOn:{click:function(s){return e.closeClick(s)}}},[e._v(\"取消\")]),e._v(\" \"),t(\"el-button\",{directives:[{name:\"debounce\",rawName:\"v-debounce\",value:e.saveClick,expression:\"saveClick\"}],attrs:{type:\"primary\"}},[e._v(\"保存\")])],1)])])},[function(){var e=this.$createElement,s=this._self._c||e;return s(\"div\",{staticClass:\"task-filter__header\"},[s(\"span\",{staticClass:\"task-filter__title\"},[this._v(\"筛选\")])])}],!1,null,\"5155969f\",null);d.options.__file=\"TaskFilter.vue\";s.default=d.exports},\"ej9+\":function(e,s,t){\"use strict\";var o={name:\"BaseTabsHead\",components:{},props:{selectValue:[String,Number],tabs:Array},data:function(){return{currentValue:\"\"}},computed:{},watch:{selectValue:function(){this.currentValue=this.selectValue}},mounted:function(){this.currentValue=this.selectValue},beforeDestroy:function(){},methods:{handleTabsClick:function(e,s){this.$emit(\"update:selectValue\",e.name),this.$emit(\"change\",e.name)}}},r=(t(\"kr3W\"),t(\"KHd+\")),n=Object(r.a)(o,function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(\"flexbox\",{staticClass:\"base-tabs-head\",attrs:{justify:\"space-between\"}},[t(\"div\",[e._t(\"left\")],2),e._v(\" \"),t(\"el-tabs\",{on:{\"tab-click\":e.handleTabsClick},model:{value:e.currentValue,callback:function(s){e.currentValue=s},expression:\"currentValue\"}},e._l(e.tabs,function(e,s){return t(\"el-tab-pane\",{key:s+e.name,attrs:{label:e.label,name:e.name}})})),e._v(\" \"),t(\"div\",[e._t(\"right\")],2)],1)},[],!1,null,\"fa74c14a\",null);n.options.__file=\"index.vue\";s.a=n.exports},ersz:function(e,s,t){\"use strict\";t.r(s);var o=t(\"FyfS\"),r=t.n(o),n=t(\"QbLZ\"),a=t.n(n),d=t(\"zsVz\"),l=t(\"kChQ\"),i=t(\"/esw\"),c=t(\"pKm3\"),u=t(\"C3Po\"),m=t(\"cXmL\"),h=t(\"L2JU\"),p=t(\"7Qib\"),b=t(\"ehos\"),_={name:\"Index\",components:{TaskTabsHead:l.default,TaskCell:i.default,TaskDetail:c.default,TaskQuickAdd:u.default,TaskFilter:m.default},props:{},data:function(){return{tabsSelectValue:\"0\",taskType:\"\",list:[],loading:!1,noMore:!1,scrollKey:Date.now(),page:1,dueDate:\"\",search:\"\",priority:\"\",showDone:!0,userList:[],taskFilterShow:!1,progress:{stopTask:0,allTask:0},moreTypes:[{type:\"show/hide\",name:\"显示已完成任务/隐藏已完成任务\",icon:\"eye\"}],taskID:\"\",detailIndex:-1,taskDetailShow:!1}},computed:a()({},Object(h.b)([\"userInfo\"]),{tabs:function(){return 1==this.taskType?[{label:\"全部\",name:\"0\"},{label:\"我负责的\",name:\"1\"},{label:\"我参与的\",name:\"3\"}]:[{label:\"全部\",name:\"0\"},{label:\"下属负责的\",name:\"1\"},{label:\"下属参与的\",name:\"3\"}]},title:function(){return 1==this.taskType?\"我的任务\":\"下属的任务\"},scrollDisabled:function(){return this.loading||this.noMore},progressValue:function(){return 0==this.progress.stopTask?0:parseInt(this.progress.stopTask/this.progress.allTask*100)}}),watch:{},created:function(){this.debouncedRefreshList=Object(b.debounce)(300,this.refreshList)},mounted:function(){this.taskType=this.$route.params.type},beforeRouteUpdate:function(e,s,t){this.taskType=e.params.type,this.showDone=!0,this.progress={stopTask:0,allTask:0},this.tabsSelectValue=\"0\",this.dueDate=\"\",this.priority=\"\",this.userList=[],this.search=\"\",this.refreshList(),t()},beforeDestroy:function(){},methods:{progressFormat:function(e){return this.progress.stopTask+\"/\"+this.progress.allTask},refreshList:function(){this.page=1,this.list=[],this.noMore=!1,this.scrollKey=Date.now()},taskFilterSave:function(e,s,t,o){this.priority=s,this.dueDate=e,this.showDone=t,this.userList=o,this.refreshList()},getList:function(){var e=this;this.loading=!0;var s={page:this.page,limit:15,type:this.tabsSelectValue,priority:this.priority,dueDate:this.dueDate,status:this.showDone?\"\":\"1\",mainUserId:this.userList&&this.userList.length?this.userList[0].userId:\"\"};this.search&&(s.search=this.search),1!=this.taskType&&(s.mold=1),Object(d.g)(s).then(function(t){if(e.loading=!1,e.tabsSelectValue==s.type){if(!e.noMore){var o=!0,n=!1,a=void 0;try{for(var d,l=r()(t.data.page.list);!(o=(d=l.next()).done);o=!0){var i=d.value;5==i.status&&(i.checked=!0)}}catch(e){n=!0,a=e}finally{try{!o&&l.return&&l.return()}finally{if(n)throw a}}e.list=e.list.concat(t.data.page.list),e.page++}e.noMore=t.data.page.lastPage,e.progress=t.data}else e.refreshList()}).catch(function(){e.noMore=!0,e.loading=!1})},tabsChange:function(e){this.refreshList()},taskCellHandle:function(e,s,t){\"view\"==e?(this.taskID=s.taskId,this.detailIndex=t,this.taskDetailShow=!0):\"complete\"==e&&(this.progress.stopTask=s.checked?++this.progress.stopTask:--this.progress.stopTask)},detailHandle:function(e){var s=this;if(\"delete\"==e.type)this.list.splice(e.index,1);else{var t=1;e.index>0&&(t=Math.ceil(e.index/5));var o={page:t,limit:5,type:this.tabsSelectValue,priority:this.priority,dueDate:this.dueDate,status:this.showDone?\"\":\"1\"};1!=this.taskType&&(o.mold=1),Object(d.g)(o).then(function(t){for(var o=s.list[e.index],r=0;r<t.data.page.list.length;r++){var n=t.data.page.list[r];if(n.taskId==o.taskId){5==n.status&&(n.checked=!0),s.list.splice(r,1,n);break}}s.progress=t.data}).catch(function(){})}},exportClick:function(){var e=this;this.loading=!0;var s={type:this.tabsSelectValue,priority:this.priority,dueDate:this.dueDate,status:this.showDone?\"\":\"1\"};1!=this.taskType&&(s.mold=1),Object(d.h)(s).then(function(s){Object(p.c)(s),e.loading=!1}).catch(function(){e.loading=!1})}}},f=(t(\"qmEU\"),t(\"KHd+\")),g=Object(f.a)(_,function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(\"div\",{staticClass:\"main\"},[t(\"task-tabs-head\",{attrs:{tabs:e.tabs,title:e.title,\"select-value\":e.tabsSelectValue},on:{\"update:selectValue\":function(s){e.tabsSelectValue=s},change:e.tabsChange,export:e.exportClick}}),e._v(\" \"),t(\"div\",{staticClass:\"content-wrapper\",attrs:{direction:\"column\",align:\"stretch\"}},[t(\"flexbox\",{staticClass:\"content-wrapper__hd\",attrs:{justify:\"space-around\"}},[t(\"flexbox\",[1==e.taskType?t(\"xr-avatar\",{staticClass:\"head-img\",attrs:{name:e.userInfo.realname,size:40,src:e.userInfo.img}}):t(\"i\",{staticClass:\"wk wk-multi-user user-icon head-img\"}),e._v(\" \"),t(\"el-progress\",{attrs:{percentage:e.progressValue,format:e.progressFormat}})],1),e._v(\" \"),t(\"flexbox\",{staticClass:\"header-right\",attrs:{justify:\"flex-end\"}},[t(\"el-input\",{attrs:{placeholder:\"请输入任务名称\",\"prefix-icon\":\"el-icon-search\"},on:{input:e.debouncedRefreshList},model:{value:e.search,callback:function(s){e.search=s},expression:\"search\"}}),e._v(\" \"),t(\"el-popover\",{attrs:{\"popper-class\":\"no-padding-popover\",placement:\"bottom\",width:\"300\",trigger:\"click\"},model:{value:e.taskFilterShow,callback:function(s){e.taskFilterShow=s},expression:\"taskFilterShow\"}},[e.taskFilterShow?t(\"task-filter\",{attrs:{\"due-date\":e.dueDate,priority:e.priority,done:e.showDone,users:e.userList},on:{close:function(s){e.taskFilterShow=!1},save:e.taskFilterSave}}):e._e(),e._v(\" \"),t(\"el-button\",{attrs:{slot:\"reference\",icon:\"wk wk-screening\"},on:{click:function(s){e.taskFilterShow=!0}},slot:\"reference\"},[e._v(\"筛选\")])],1)],1)],1),e._v(\" \"),t(\"div\",{staticClass:\"cell-section\"},[t(\"div\",{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:e.getList,expression:\"getList\"}],key:\"\"+e.scrollKey+e.tabsSelectValue,attrs:{\"infinite-scroll-distance\":\"100\",\"infinite-scroll-disabled\":\"scrollDisabled\"}},e._l(e.list,function(s,o){return t(\"task-cell\",{key:o,attrs:{data:s,\"data-index\":o},on:{\"on-handle\":e.taskCellHandle}})})),e._v(\" \"),e.loading?t(\"p\",{staticClass:\"scroll-bottom-tips\"},[e._v(\"加载中...\")]):e._e(),e._v(\" \"),e.noMore?t(\"p\",{staticClass:\"scroll-bottom-tips\"},[e._v(\"没有更多了\")]):e._e()]),e._v(\" \"),t(\"div\",{staticClass:\"task-add\"},[t(\"task-quick-add\",{on:{send:e.refreshList}})],1)],1),e._v(\" \"),e.taskDetailShow?t(\"task-detail\",{ref:\"particulars\",attrs:{id:e.taskID,\"detail-index\":e.detailIndex,\"no-listener-class\":[\"task-cell\"]},on:{\"on-handle\":e.detailHandle,close:function(s){e.taskDetailShow=!1}}}):e._e()],1)},[],!1,null,\"5a1cc49c\",null);g.options.__file=\"index.vue\";s.default=g.exports},h2Sd:function(e,s){throw new Error(\"Module build failed (from ./node_modules/mini-css-extract-plugin/dist/loader.js):\\nModuleBuildError: Module build failed (from ./node_modules/sass-loader/lib/loader.js):\\nError: Node Sass does not yet support your current environment: Windows 64-bit with Unsupported runtime (93)\\nFor more information on which environments are supported please see:\\nhttps://github.com/sass/node-sass/releases/tag/v4.14.1\\n    at module.exports (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\node-sass\\\\lib\\\\binding.js:13:13)\\n    at Object.<anonymous> (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\node-sass\\\\lib\\\\index.js:14:35)\\n    at Module._compile (node:internal/modules/cjs/loader:1198:14)\\n    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1252:10)\\n    at Module.load (node:internal/modules/cjs/loader:1076:32)\\n    at Function.Module._load (node:internal/modules/cjs/loader:911:12)\\n    at Module.require (node:internal/modules/cjs/loader:1100:19)\\n    at require (node:internal/modules/cjs/helpers:119:18)\\n    at Object.sassLoader (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js:24:22)\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\webpack\\\\lib\\\\NormalModule.js:286:20\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:367:11\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:233:18\\n    at runSyncOrAsync (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:143:3)\\n    at iterateNormalLoaders (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:232:2)\\n    at iterateNormalLoaders (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:221:10)\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:236:3\\n    at context.callback (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:111:13)\\n    at processResources (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\lib\\\\utils\\\\processResources.js:58:10)\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\lib\\\\loader.js:76:38\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\node_modules\\\\async\\\\dist\\\\async.js:252:13\\n    at wrapper (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\node_modules\\\\async\\\\dist\\\\async.js:272:20)\\n    at iteratorCallback (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\node_modules\\\\async\\\\dist\\\\async.js:502:17)\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\node_modules\\\\async\\\\dist\\\\async.js:328:20\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\node_modules\\\\async\\\\dist\\\\async.js:249:17\\n    at rewritePaths (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\lib\\\\utils\\\\rewritePaths.js:60:3)\")},hgIt:function(e,s){throw new Error(\"Module build failed (from ./node_modules/mini-css-extract-plugin/dist/loader.js):\\nModuleBuildError: Module build failed (from ./node_modules/sass-loader/lib/loader.js):\\nError: Node Sass does not yet support your current environment: Windows 64-bit with Unsupported runtime (93)\\nFor more information on which environments are supported please see:\\nhttps://github.com/sass/node-sass/releases/tag/v4.14.1\\n    at module.exports (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\node-sass\\\\lib\\\\binding.js:13:13)\\n    at Object.<anonymous> (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\node-sass\\\\lib\\\\index.js:14:35)\\n    at Module._compile (node:internal/modules/cjs/loader:1198:14)\\n    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1252:10)\\n    at Module.load (node:internal/modules/cjs/loader:1076:32)\\n    at Function.Module._load (node:internal/modules/cjs/loader:911:12)\\n    at Module.require (node:internal/modules/cjs/loader:1100:19)\\n    at require (node:internal/modules/cjs/helpers:119:18)\\n    at Object.sassLoader (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js:24:22)\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\webpack\\\\lib\\\\NormalModule.js:286:20\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:367:11\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:233:18\\n    at runSyncOrAsync (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:143:3)\\n    at iterateNormalLoaders (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:232:2)\\n    at iterateNormalLoaders (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:221:10)\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:236:3\\n    at context.callback (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\loader-runner\\\\lib\\\\LoaderRunner.js:111:13)\\n    at processResources (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\lib\\\\utils\\\\processResources.js:58:10)\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\lib\\\\loader.js:76:38\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\node_modules\\\\async\\\\dist\\\\async.js:252:13\\n    at wrapper (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\node_modules\\\\async\\\\dist\\\\async.js:272:20)\\n    at iteratorCallback (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\node_modules\\\\async\\\\dist\\\\async.js:502:17)\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\node_modules\\\\async\\\\dist\\\\async.js:328:20\\n    at D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\node_modules\\\\async\\\\dist\\\\async.js:249:17\\n    at rewritePaths (D:\\\\project\\\\zhgd\\\\zhgd-front\\\\crm_web\\\\node_modules\\\\sass-resources-loader\\\\lib\\\\utils\\\\rewritePaths.js:60:3)\")},hwzM:function(e,s,t){\"use strict\";t.r(s);var o=t(\"7Qib\"),r=t(\"KTTK\"),n={name:\"FileCell\",filters:{getFileSize:function(e){return Object(o.h)(e)}},props:{cellIndex:Number,data:Object,list:Array,showFoot:{type:Boolean,default:!0},cursorPointer:{type:Boolean,default:!1},showDelete:{type:Boolean,default:!1},module_id:[String,Number]},data:function(){return{}},computed:{fileIcon:function(){var e=this.data.name?this.data.name.split(\".\"):[],s=\"\";return s=e.length>0?e[e.length-1]:\"\",Object(o.n)(s)},previewShow:function(){return this.list}},watch:{},mounted:function(){},beforeDestroy:function(){},methods:{downloadClick:function(){Object(o.d)({path:this.data.filePath||this.data.url,name:this.data.name})},previewClick:function(){Object(o.a)(this.data.name)?Object(o.G)(this.data.filePath||this.data.url,this.data.name):this.$bus.emit(\"preview-image-bus\",{index:this.cellIndex||0,data:this.list.map(function(e){return{url:e.filePath||e.url,name:e.name}})})},deleteClick:function(){var e=this;this.$confirm(\"确定删除?\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then(function(){Object(r.g)({id:e.data.fileId}).then(function(s){e.$message.success(\"操作成功\"),e.$emit(\"delete\",e.cellIndex,e.data)}).catch(function(){})}).catch(function(){e.$message({type:\"info\",message:\"已取消删除\"})})}}},a=(t(\"Bd1s\"),t(\"KHd+\")),d=Object(a.a)(n,function(){var e=this,s=e.$createElement,o=e._self._c||s;return o(\"flexbox\",{staticClass:\"cell\"},[o(\"img\",{staticClass:\"cell-head\",attrs:{onerror:'this.src=\"'+t(\"Tww3\")+'\"',src:e.fileIcon,alt:\"\"}}),e._v(\" \"),o(\"div\",{staticClass:\"cell-body text-one-line\",class:{\"cursor-pointer\":e.cursorPointer}},[o(\"span\",[e._v(e._s(e.data.name.length>20?e.data.name.substring(0,20)+\"...\":e.data.name))])]),e._v(\" \"),o(\"div\",{staticClass:\"size\"},[e._v(\"\\n    (\"+e._s(e._f(\"getFileSize\")(e.data.size))+\")\\n  \")]),e._v(\" \"),o(\"div\",{staticClass:\"cell-foot\"},[e.previewShow?o(\"span\",{staticClass:\"xr-text-btn primary\",on:{click:e.previewClick}},[e._v(\"预览\")]):e._e(),e._v(\" \"),o(\"span\",{staticClass:\"xr-text-btn primary\",on:{click:e.downloadClick}},[e._v(\"下载\")]),e._v(\" \"),e.showDelete?o(\"span\",{staticClass:\"xr-text-btn delete\",on:{click:e.deleteClick}},[e._v(\"删除\")]):e._e()])])},[],!1,null,\"4a3d86b8\",null);d.options.__file=\"index.vue\";s.default=d.exports},kChQ:function(e,s,t){\"use strict\";t.r(s);var o={name:\"TaskTabsHead\",components:{BaseTabsHead:t(\"ej9+\").a},props:{title:String},data:function(){return{}},computed:{},watch:{},mounted:function(){},beforeDestroy:function(){},methods:{exportClick:function(){this.$emit(\"export\")}}},r=(t(\"pSvC\"),t(\"KHd+\")),n=Object(r.a)(o,function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(\"base-tabs-head\",e._g(e._b({staticClass:\"Task-tabs-head\"},\"base-tabs-head\",e.$attrs,!1),e.$listeners),[t(\"span\",{staticClass:\"task-title\",attrs:{slot:\"left\"},slot:\"left\"},[t(\"i\",{staticClass:\"wk wk-task\"}),e._v(e._s(e.title)+\"\\n  \")]),e._v(\" \"),t(\"el-button\",{staticClass:\"export-btn\",attrs:{slot:\"right\"},on:{click:e.exportClick},slot:\"right\"},[e._v(\"导出\")])],1)},[],!1,null,\"5ef75986\",null);n.options.__file=\"TaskTabsHead.vue\";s.default=n.exports},kr3W:function(e,s,t){\"use strict\";var o=t(\"4p7F\");t.n(o).a},pSba:function(e,s,t){\"use strict\";var o=t(\"h2Sd\");t.n(o).a},pSvC:function(e,s,t){\"use strict\";var o=t(\"5yli\");t.n(o).a},qmEU:function(e,s,t){\"use strict\";var o=t(\"hgIt\");t.n(o).a},zsVz:function(e,s,t){\"use strict\";t.d(s,\"g\",function(){return r}),t.d(s,\"e\",function(){return n}),t.d(s,\"a\",function(){return a}),t.d(s,\"b\",function(){return d}),t.d(s,\"d\",function(){return l}),t.d(s,\"c\",function(){return i}),t.d(s,\"f\",function(){return c}),t.d(s,\"h\",function(){return u});var o=t(\"t3Un\");function r(e){return Object(o.a)({url:\"oaTask/queryTaskList\",method:\"post\",data:e,headers:{\"Content-Type\":\"application/json;charset=UTF-8\"}})}function n(e){return Object(o.a)({url:\"workTask/saveWorkTask\",method:\"post\",data:e,headers:{\"Content-Type\":\"application/json;charset=UTF-8\"}})}function a(e){return Object(o.a)({url:\"workTask/queryTaskInfo/\"+e.taskId,method:\"post\"})}function d(e){return Object(o.a)({url:\"workTask/queryTrashTaskInfo\",method:\"post\",data:e})}function l(e){return Object(o.a)({url:\"workTaskLog/queryTaskLog/\"+e.taskId,method:\"post\"})}function i(e){return Object(o.a)({url:\"workTaskRelation/saveWorkTaskRelation\",method:\"post\",data:e,headers:{\"Content-Type\":\"application/json;charset=UTF-8\"}})}function c(e){return Object(o.a)({url:\"oaTask/deleteWorkTaskLabel\",method:\"post\",data:e,headers:{\"Content-Type\":\"application/json;charset=UTF-8\"}})}function u(e){return Object(o.a)({url:\"oaTask/oaTaskExport\",method:\"post\",data:e,responseType:\"blob\",headers:{\"Content-Type\":\"application/json;charset=UTF-8\"}})}}}]);","extractedComments":[]}