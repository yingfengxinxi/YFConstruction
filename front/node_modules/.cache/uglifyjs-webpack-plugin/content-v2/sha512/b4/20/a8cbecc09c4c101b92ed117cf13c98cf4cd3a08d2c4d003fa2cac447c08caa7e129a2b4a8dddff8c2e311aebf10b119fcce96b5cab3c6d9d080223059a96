{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-6435\"],{\"+ATa\":function(e,t,i){\"use strict\";var a=i(\"lJeg\");i.n(a).a},\"0llk\":function(e,t,i){\"use strict\";var a=i(\"jYeX\");i.n(a).a},\"1Jl6\":function(e,t,i){\"use strict\";var a=i(\"zfcF\");i.n(a).a},\"3gPr\":function(e,t,i){\"use strict\";i.r(t);var a=i(\"KTTK\"),s=i(\"c2Co\"),n=i(\"7Dod\"),l=i(\"AAeT\"),r=i(\"ERJp\"),o=i(\"d9x6\"),c=i(\"Y4Le\"),u=i(\"1DpC\"),d=i(\"zhwh\"),m=i(\"VcMt\"),h=i(\"X5SI\"),f=i(\"7Qib\"),p=i(\"ehos\"),v={name:\"RelativeFiles\",components:{},props:{id:[String,Number],detail:{type:Object,default:function(){return{}}},crmType:{type:String,default:\"\"},isSeas:{type:Boolean,default:!1}},data:function(){return{loading:!1,list:[],fieldList:[],tableHeight:\"400px\",editDialog:!1,editForm:{name:\"\",data:{}}}},inject:[\"rootTabs\"],computed:{canEdit:function(){if(\"expense\"==this.crmType){var e=this.detail;if(\"0\"!=e.hasExamine&&\"2\"!=e.checkStatus&&\"4\"!=e.checkStatus&&\"5\"!=e.checkStatus)return!1}return!0}},watch:{id:function(e){this.list=[],this.getDetail()},\"rootTabs.currentName\":function(e){\"RelativeFiles\"===e&&this.getDetail(!1)}},mounted:function(){var e=this;this.fieldList.push({prop:\"name\",width:\"200\",label:\"附件名称\"}),this.fieldList.push({prop:\"size\",width:\"100\",label:\"附件大小\"}),this.fieldList.push({prop:\"createUserName\",width:\"100\",label:\"上传人\"}),this.fieldList.push({prop:\"createTime\",width:\"200\",label:\"上传时间\"}),this.fieldList.push({prop:\"source\",width:\"100\",label:\"来源\"}),this.getDetail(),this.debouncedGetDetail=Object(p.debounce)(300,function(){e.$bus.emit(\"crm-tab-num-update\"),e.getDetail()})},methods:{getDetail:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.loading=t;var i={leads:s.f,customer:n.j,contacts:l.f,business:r.f,contract:o.f,product:c.f,receivables:u.d,visit:d.b,invoice:m.c,expense:h.i}[this.crmType],a={};a.id=this.id,i(a).then(function(t){e.loading=!1,e.list=t.data.map(function(e){return e.size=Object(f.h)(e.size),e})}).catch(function(){e.loading=!1})},addFile:function(){document.getElementById(\"file\").click()},uploadFile:function(e){for(var t=this,i=e.target.files,a=0;a<i.length;a++){var s=i[a],n={};n.batchId=this.detail.batchId,n.file=s,this.$wkUploadFile.upload({file:s,params:{batchId:this.detail.batchId}}).then(function(e){t.debouncedGetDetail()}).catch(function(){})}e.target.value=\"\"},handleRowClick:function(e,t,i){},showPreviewBtn:function(e){return Object(f.a)(e.row.name)},handleFile:function(e,t){var i=this;\"preview\"===e?Object(f.a)(t.row.name)?Object(f.G)(t.row.url,t.row.name):this.$bus.emit(\"preview-image-bus\",{index:t.$index,data:this.list}):\"delete\"===e?this.$confirm(\"您确定要删除该文件吗?\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then(function(){Object(a.g)({id:t.row.fileId}).then(function(e){i.list.splice(t.$index,1),i.$bus.emit(\"crm-tab-num-update\"),i.$message.success(\"操作成功\")}).catch(function(){})}).catch(function(){}):\"download\"===e?Object(a.o)(t.row.url).then(function(e){var i=new Blob([e.data],{type:\"\"});Object(f.e)(i,t.row.name)}).catch(function(){}):(this.editForm.data=t,this.editForm.name=t.row.name,this.editDialog=!0)},confirmEdit:function(){var e=this;this.editForm.name&&Object(a.m)({fileId:this.editForm.data.row.fileId,name:this.editForm.name}).then(function(t){e.$message.success(\"编辑成功\"),e.editDialog=!1,e.list[e.editForm.data.$index].name=e.editForm.name}).catch(function(){})}}},y=(i(\"F1fO\"),i(\"KHd+\")),b=Object(y.a)(v,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(\"div\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading,expression:\"loading\"}],staticClass:\"rc-cont\"},[e.isSeas?e._e():i(\"flexbox\",{staticClass:\"rc-head\",attrs:{direction:\"row-reverse\"}},[i(\"el-button\",{staticClass:\"rc-head-item\",attrs:{disabled:!e.canEdit,type:\"primary\"},nativeOn:{click:function(t){return e.addFile(t)}}},[e._v(\"上传附件\")]),e._v(\" \"),i(\"input\",{staticClass:\"rc-head-file\",attrs:{id:\"file\",type:\"file\",accept:\"*/*\",multiple:\"\"},on:{change:e.uploadFile}})],1),e._v(\" \"),i(\"el-table\",{staticClass:\"file-table\",staticStyle:{width:\"100%\",border:\"1px solid #E6E6E6\"},attrs:{data:e.list,height:e.tableHeight,stripe:\"\"},on:{\"row-click\":e.handleRowClick}},[e._l(e.fieldList,function(e,t){return i(\"el-table-column\",{key:t,attrs:{prop:e.prop,label:e.label,\"show-overflow-tooltip\":\"\"}})}),e._v(\" \"),i(\"el-table-column\",{attrs:{label:\"操作\",width:\"200\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[i(\"flexbox\",[i(\"el-button\",{attrs:{type:\"text\"},nativeOn:{click:function(i){e.handleFile(\"preview\",t)}}},[e._v(\"预览\")]),e._v(\" \"),i(\"el-button\",{attrs:{type:\"text\"},nativeOn:{click:function(i){e.handleFile(\"download\",t)}}},[e._v(\"下载\")]),e._v(\" \"),i(\"el-button\",{attrs:{disabled:1==t.row.readOnly||!e.canEdit,type:\"text\"},nativeOn:{click:function(i){e.handleFile(\"edit\",t)}}},[e._v(\"重命名\")]),e._v(\" \"),i(\"el-button\",{attrs:{disabled:1==t.row.readOnly||!e.canEdit,type:\"text\"},nativeOn:{click:function(i){e.handleFile(\"delete\",t)}}},[e._v(\"删除\")])],1)]}}])})],2),e._v(\" \"),i(\"el-dialog\",{attrs:{\"append-to-body\":!0,\"close-on-click-modal\":!1,visible:e.editDialog,title:\"编辑\",width:\"30%\"},on:{\"update:visible\":function(t){e.editDialog=t}}},[i(\"el-form\",{attrs:{model:e.editForm}},[i(\"el-form-item\",{attrs:{label:\"新名称\",\"label-width\":\"100\"}},[i(\"el-input\",{attrs:{autocomplete:\"off\"},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,\"name\",t)},expression:\"editForm.name\"}})],1)],1),e._v(\" \"),i(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[i(\"el-button\",{on:{click:function(t){e.editDialog=!1}}},[e._v(\"取 消\")]),e._v(\" \"),i(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.confirmEdit}},[e._v(\"确 定\")])],1)],1)],1)},[],!1,null,\"4665048a\",null);b.options.__file=\"RelativeFiles.vue\";t.default=b.exports},CjUg:function(e,t,i){\"use strict\";i.r(t);var a=i(\"LZF0\"),s=i(\"ZoMv\"),n=i(\"4XAY\"),l={name:\"RelativeHandle\",components:{},mixins:[a.default],props:{id:[String,Number],detail:{type:Object,default:function(){return{}}},crmType:{type:String,default:\"\"},isSeas:{type:Boolean,default:!1}},data:function(){return{list:[]}},inject:[\"rootTabs\"],computed:{},watch:{id:function(e){this.list=[],this.getDetail()},\"rootTabs.currentName\":function(e){\"RelativeHandle\"===e&&this.getDetail(!1)}},mounted:function(){this.getDetail()},methods:{getDetail:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.loading=t,Object(n.k)({types:s.default[this.crmType],actionId:this.id}).then(function(t){e.loading=!1,e.list=t.data.map(function(e){return e.createTime=new Date(e.createTime).getTime(),e})}).catch(function(){e.loading=!1})}}},r=(i(\"hPYC\"),i(\"KHd+\")),o=Object(r.a)(l,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(\"div\",{directives:[{name:\"empty\",rawName:\"v-empty\",value:e.list,expression:\"list\"}],staticClass:\"rc-cont\",staticStyle:{\"padding-right\":\"10%\",\"min-height\":\"500px\"}},e._l(e.list,function(t,a){return i(\"flexbox\",{key:a,staticClass:\"ha-cont\",attrs:{align:\"stretch\",justify:\"flex-start\"}},[i(\"div\",{staticClass:\"ha-week\"},[e._v(e._s(e._f(\"filterTimestampToFormatTime\")(t.createTime,\"MM-DD dddd\")))]),e._v(\" \"),i(\"div\",{staticClass:\"ha-circle\"}),e._v(\" \"),i(\"div\",{staticClass:\"ha-time\"},[e._v(e._s(e._f(\"filterTimestampToFormatTime\")(t.createTime,\"HH:mm\")))]),e._v(\" \"),i(\"xr-avatar\",{staticClass:\"ha-img\",attrs:{name:t.realname,id:t.createUserId,size:30,src:t.img,disabled:!1}}),e._v(\" \"),i(\"div\",{staticClass:\"ha-name\"},[e._v(e._s(t.realname))]),e._v(\" \"),i(\"div\",{staticClass:\"ha-content\"},e._l(t.content,function(t,a){return i(\"p\",{key:a},[e._v(e._s(t))])})),e._v(\" \"),i(\"div\",{staticClass:\"ha-line\"})],1)}))},[],!1,null,\"56117d7e\",null);o.options.__file=\"RelativeHandle.vue\";t.default=o.exports},F1fO:function(e,t,i){\"use strict\";var a=i(\"pE5E\");i.n(a).a},FPrO:function(e,t,i){},LZF0:function(e,t,i){\"use strict\";i.r(t);var a=i(\"XJYT\");t.default={data:function(){return{loading:!1,tab_loading:null}},watch:{loading:function(e){e?(this.tab_loading&&(this.tab_loading.close(),this.tab_loading=null),this.tab_loading=a.Loading.service({target:document.querySelector(\".el-tabs__content\")})):this.tab_loading.close()}},mounted:function(){},deactivated:function(){}}},MqKM:function(e,t,i){e.exports=i.p+\"static/img/no_data.07db3ea.png\"},eZ9R:function(e,t,i){\"use strict\";var a=i(\"FPrO\");i.n(a).a},f6dm:function(e,t,i){\"use strict\";i.r(t);var a=i(\"QbLZ\"),s=i.n(a),n=i(\"L2JU\"),l=i(\"c2Co\"),r=i(\"7Dod\"),o=i(\"AAeT\"),c=i(\"ERJp\"),u=i(\"d9x6\"),d=i(\"Y4Le\"),m=i(\"1DpC\"),h=(i(\"LWkM\"),i(\"X5SI\")),f=i(\"ehos\");t.default={data:function(){return{showFirstDetail:!0,detailData:null,tabsNumber:{}}},props:{isSeas:{type:Boolean,default:!1}},computed:s()({},Object(n.b)([\"crm\"]),Object(n.b)([\"project\"]),{canCreateFollowRecord:function(){return this.crm&&this.crm.followRecord&&this.crm.followRecord.save},canShowDetail:function(){return(!this.detailData||0!==this.detailData.dataAuth)&&(this.crm&&this.crm[this.crmType]&&this.crm[this.crmType].read)},showTabsNumber:function(){return\"visit\"!==this.crmType}}),watch:{id:function(){this.canShowDetail&&(this.detailData=null,this.tabsNumber={},this.getDetial(),this.getTabsNum())},detailData:function(){this.$refs.crmDetailMain&&\"white\"==this.$refs.crmDetailMain.style.background&&(this.$refs.crmDetailMain.style.background=\"inherit\")}},mounted:function(){this.$refs.crmDetailMain.style.background=\"white\",this.debouncedGetTabsNum=Object(f.debounce)(300,this.getTabsNum)},beforeDestroy:function(){this.$bus.off(\"crm-tab-num-update\",this.debouncedGetTabsNum)},methods:{viewAfterEnter:function(){this.canShowDetail&&(this.getDetial(),this.getTabsNum(),this.$bus.on(\"crm-tab-num-update\",this.debouncedGetTabsNum))},detailHeadHandle:function(e){\"edit\"===e.type?this.isCreate=!0:\"cancel\"===e.type?this.getDetial():\"delete\"===e.type||\"exit-team\"===e.type?this.hideView():\"state_start\"!==e.type&&\"state_disable\"!==e.type||this.getDetial(),\"edit\"===e.type&&this.getDetial(),this.$emit(\"handle\",e)},editSaveSuccess:function(){this.$bus.$emit(\"crm-detail-update\",this.crmType),this.$emit(\"handle\",{type:\"save-success\"}),this.getDetial()},getTabsNum:function(){var e=this;if(this.showTabsNumber){var t={leads:l.h,customer:r.o,contacts:o.h,business:c.h,contract:u.h,product:d.h,receivables:m.f,expense:h.k}[this.crmType],i={};i.id=this.id,t(i).then(function(t){e.tabsNumber=t.data||{}}).catch(function(){})}},getTabName:function(e,t){return e+(t&&t>0?\"（\"+t+\"）\":\"\")},toggleStar:function(){var e=this;this.loading=!0;var t={leads:l.l,customer:r.V,contacts:o.n,business:c.t}[this.crmType],i={};i.id=this.detailData[this.crmType+\"Id\"],t(i).then(function(){e.loading=!1,e.$message.success(e.detailData.star>0?\"取消关注成功\":\"关注成功\"),e.detailData.star=e.detailData.star>0?0:1,e.$emit(\"handle\",{type:\"star\"})}).catch(function(){e.loading=!1})}},deactivated:function(){}}},h59h:function(e,t,i){\"use strict\";i.r(t);var a={name:\"Sections\",components:{},props:{title:{type:String,default:\"\"},mColor:{type:String,default:\"#2362FB\"},contentHeight:{type:String,default:\"327px\"},showF:{type:Boolean,default:!1},fItems:{type:Array,default:function(){return[]}},showNoData:{type:Boolean,default:!1}},data:function(){return{fIndex:-1}},computed:{},mounted:function(){},methods:{fClick:function(e){this.fIndex=e.type,this.$emit(\"f-click\",\"val\")}}},s=(i(\"0llk\"),i(\"KHd+\")),n=Object(s.a)(a,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"section\"},[e.title&&e.title.length>0?a(\"div\",{staticClass:\"section-header\"},[a(\"div\",{staticClass:\"section-mark\",style:{\"border-left-color\":e.mColor}}),e._v(\" \"),a(\"div\",{staticClass:\"section-title\"},[e._v(e._s(e.title))]),e._v(\" \"),e.showF?a(\"flexbox\",{staticClass:\"f-container\"},e._l(e.fItems,function(t,i){return a(\"div\",{key:i,staticClass:\"f-item\",class:{\"f-item-select\":e.fIndex==t.type},on:{click:function(i){e.fClick(t)}}},[e._v(e._s(t.title))])})):e._e()],1):e._e(),e._v(\" \"),a(\"div\",{staticClass:\"content\",style:{height:e.contentHeight}},[e.showNoData?a(\"div\",{staticClass:\"no-data-container\"},[a(\"img\",{staticClass:\"no-data\",attrs:{onerror:'this.src=\"'+i(\"Tww3\")+'\"',src:i(\"MqKM\")}}),e._v(\" \"),a(\"div\",{staticClass:\"no-data-name\"},[e._v(\"暂无数据\")])]):e._e(),e._v(\" \"),e._t(\"default\")],2)])},[],!1,null,\"6f2b0fd3\",null);n.options.__file=\"Sections.vue\";t.default=n.exports},hPYC:function(e,t,i){\"use strict\";var a=i(\"qllW\");i.n(a).a},jYeX:function(e,t,i){},lJeg:function(e,t,i){},pE5E:function(e,t,i){},qllW:function(e,t,i){},raay:function(e,t,i){\"use strict\";i.r(t);var a=i(\"QbLZ\"),s=i.n(a),n=i(\"L2JU\"),l=i(\"c2Co\"),r=i(\"7Dod\"),o=i(\"AAeT\"),c=i(\"ERJp\"),u=i(\"d9x6\"),d=i(\"1DpC\"),m=i(\"zhwh\"),h=i(\"Y4Le\"),f=i(\"VcMt\"),p=i(\"+lNB\"),v=i(\"WGjG\"),y=i(\"nslc\"),b=i(\"JCWM\"),g=i(\"X5SI\"),T={name:\"CRMDetailHead\",components:{TransferHandle:p.default,AllocHandle:v.default,DealStatusHandle:y.default,PutPoolHandle:b.default},props:{id:[String,Number],poolId:[String,Number],poolAuth:Object,crmType:{type:String,default:\"\"},isSeas:{type:Boolean,default:!1},detail:{type:Object,default:function(){return{}}},headDetails:{type:Array,default:function(){return[]}}},data:function(){return{moreTypes:[],transferDialogShow:!1,allocDialogShow:!1,dealStatusShow:!1,putPoolShow:!1}},computed:s()({},Object(n.b)([\"crm\"]),{crmIcon:function(){return i(\"p3hS\")(\"./\"+this.crmType+\".png\")},typeName:function(){return{leads:\"线索\",customer:\"客户\",contacts:\"联系人\",product:\"产品\",business:\"商机\",contract:\"合同\",receivables:\"回款\",visit:\"回访\",invoice:\"发票\",expense:\"费用\",\"expense-examines\":\"费用审批\"}[this.crmType]||\"\"},name:function(){return\"receivables\"===this.crmType?this.detail.number:\"customer\"===this.crmType?this.detail.customerName:\"business\"===this.crmType?this.detail.businessName:\"visit\"===this.crmType?this.detail.visitNumber:\"invoice\"===this.crmType?this.detail.invoiceApplyNumber:\"expense\"===this.crmType?this.detail.expenseNum:\"expense-examines\"===this.crmType?this.detail.content:this.detail.name},showTransfer:function(){return\"expense\"!==this.crmType&&\"expense-examines\"!==this.crmType&&\"receivables\"!==this.crmType&&\"product\"!==this.crmType&&\"customer\"!==this.crmType&&\"visit\"!==this.crmType&&!this.isSeas&&(\"contract\"===this.crmType?this.detail&&8!=this.detail.checkStatus&&this.crm[this.crmType].transfer:this.crm[this.crmType].transfer)},showEdit:function(){return\"contract\"===this.crmType?this.detail&&8!=this.detail.checkStatus&&this.crm[this.crmType].update:\"expense-examines\"===this.crmType?this.crm.expense.update:!this.isSeas&&this.crm[this.crmType].update},isLock:function(){return!!this.detail&&2==this.detail.status},showDealStatus:function(){return!this.isSeas&&\"customer\"==this.crmType&&this.crm[this.crmType].dealStatus},permissionMoreTypes:function(){var e=this;return this.moreTypes.filter(function(t){return e.whetherTypeShowByPermision(t.type)})}}),watch:{isSeas:function(){this.moreTypes=this.getSelectionHandleItemsInfo()}},mounted:function(){this.moreTypes=this.getSelectionHandleItemsInfo()},methods:{handleTypeClick:function(e){var t=this;if(\"edit\"==e)this.$emit(\"handle\",{type:\"edit\"});else if(\"transfer\"==e)this.transferDialogShow=!0;else if(\"transform\"==e||\"delete\"==e||\"lock\"==e||\"unlock\"==e||\"start\"==e||\"disable\"==e||\"get\"==e||\"cancel\"==e){var i=\"\";\"transform\"==e?i=\"确定将这些线索转换为客户吗?\":\"delete\"==e?i=this.isSeas?\"若客户下有联系人，联系人将一并删除。确定删除？\":\"确定删除?\":\"lock\"==e?i=\"确定要锁定该客户吗？锁定后将不会掉入公海。\":\"unlock\"==e?i=\"确定要解锁该客户吗？\":\"start\"==e?i=\"确定要上架该产品吗?\":\"disable\"==e?i=\"确定要下架该产品吗?\":\"get\"==e?i=\"确定要领取该客户吗?\":\"cancel\"==e&&(i=\"确定要作废此合同吗?\",this.detail.receivablesCount&&(i=\"合同下有相关回款,确定要作废吗?\")),this.$confirm(i,\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then(function(){t.confirmHandle(e)}).catch(function(){})}else if(\"alloc\"==e)this.allocDialogShow=!0;else if(\"deal_status\"==e)this.dealStatusShow=!0;else if(\"put_seas\"==e)this.putPoolShow=!0;else if(\"print\"==e){var a=this.detail[this.crmType+\"Id\"];this.$router.push(\"/crm/contract/print?module=\"+this.crmType+\"&id=\"+a)}},confirmHandle:function(e){var t=this;if(\"lock\"===e||\"unlock\"===e)Object(r.n)({status:\"lock\"===e?\"2\":\"1\",ids:this.id}).then(function(i){t.$message({type:\"success\",message:\"操作成功\"}),t.$emit(\"handle\",{type:e})}).catch(function(){});else if(\"transform\"===e)Object(l.n)([this.id]).then(function(i){t.$message({type:\"success\",message:\"转化成功\"}),t.$store.dispatch(\"GetMessageNum\"),t.$emit(\"handle\",{type:e})}).catch(function(){});else if(\"start\"===e||\"disable\"===e)Object(h.l)({ids:[this.id],status:\"start\"===e?\"1\":\"0\"}).then(function(i){t.$message({type:\"success\",message:\"操作成功\"}),t.$emit(\"handle\",{type:e})}).catch(function(){});else if(\"delete\"===e){var i={leads:l.a,customer:this.isSeas?r.p:r.c,contacts:o.a,business:c.b,contract:u.b,receivables:d.a,visit:m.a,product:h.a,invoice:f.a,expense:g.b,\"expense-examines\":g.c}[this.crmType],a={};this.isSeas&&(a.poolId=this.poolId),a.ids=[parseInt(this.id)],i(this.isSeas?a:a.ids).then(function(i){t.$message({type:\"success\",message:\"删除成功\"}),t.$emit(\"handle\",{type:e})}).catch(function(){})}else\"get\"===e?Object(r.P)({ids:[this.id],poolId:this.poolId}).then(function(i){t.$message({type:\"success\",message:\"操作成功\"}),t.$store.dispatch(\"GetMessageNum\"),t.$emit(\"handle\",{type:e})}).catch(function(){}):\"cancel\"===e&&Object(u.a)({contractId:this.id}).then(function(i){t.$message.success(\"操作成功\"),t.$emit(\"handle\",{type:e})}).catch(function(){})},handleCallBack:function(e){this.$emit(\"handle\",{type:e.type})},getSelectionHandleItemsInfo:function(){var e={transfer:{name:\"转移\",type:\"transfer\",icon:\"transfer\"},transform:{name:\"转化为客户\",type:\"transform\",icon:\"transform\"},export:{name:\"导出选中\",type:\"export\",icon:\"export\"},delete:{name:\"删除\",type:\"delete\",icon:\"delete\"},put_seas:{name:\"放入公海\",type:\"put_seas\",icon:\"seas\"},lock:{name:\"锁定\",type:\"lock\",icon:\"lock\"},unlock:{name:\"解锁\",type:\"unlock\",icon:\"unlock\"},add_user:{name:\"添加团队成员\",type:\"add_user\",icon:\"add\"},delete_user:{name:\"移除团队成员\",type:\"delete_user\",icon:\"remove\"},alloc:{name:\"分配\",type:\"alloc\",icon:\"alloc\"},get:{name:\"领取\",type:\"get\",icon:\"receive\"},start:{name:\"上架\",type:\"start\",icon:\"shelves\"},disable:{name:\"下架\",type:\"disable\",icon:\"sold-out\"},deal_status:{name:\"更改成交状态\",type:\"deal_status\",icon:\"s-status\"},cancel:{name:\"合同作废\",type:\"cancel\",icon:\"invalid\"},print:{name:\"打印\",type:\"print\",icon:\"print\"}};return\"leads\"==this.crmType?this.forSelectionHandleItems(e,[\"transform\",\"delete\"]):\"customer\"==this.crmType?this.isSeas?this.forSelectionHandleItems(e,[\"alloc\",\"get\",\"delete\"]):this.forSelectionHandleItems(e,[\"transfer\",\"put_seas\",\"lock\",\"unlock\",\"delete\"]):\"contacts\"==this.crmType?this.forSelectionHandleItems(e,[\"transfer\",\"delete\"]):\"business\"==this.crmType?this.forSelectionHandleItems(e,[\"print\",\"transfer\",\"delete\"]):\"contract\"==this.crmType?this.forSelectionHandleItems(e,[\"print\",\"transfer\",\"delete\",\"cancel\"]):\"receivables\"==this.crmType?this.forSelectionHandleItems(e,[\"print\",\"transfer\",\"delete\"]):\"product\"==this.crmType?this.forSelectionHandleItems(e,[\"transfer\",\"delete\",\"start\",\"disable\"]):\"visit\"==this.crmType?this.forSelectionHandleItems(e,[\"delete\"]):\"invoice\"==this.crmType?this.forSelectionHandleItems(e,[\"delete\"]):\"expense\"==this.crmType?this.forSelectionHandleItems(e,[\"delete\"]):\"expense-examines\"==this.crmType?this.forSelectionHandleItems(e,[\"delete\"]):[]},forSelectionHandleItems:function(e,t){for(var i=[],a=0;a<t.length;a++)i.push(e[t[a]]);return i},whetherTypeShowByPermision:function(e){return\"transfer\"==e?this.crm[this.crmType].transfer:\"transform\"==e?this.crm[this.crmType].transform:\"export\"==e?this.isSeas?this.poolId?this.poolAuth.excelexport:this.crm.pool.excelexport:this.crm[this.crmType].excelexport:\"delete\"==e?this.isSeas?this.poolId?this.poolAuth.delete:this.crm.pool.delete&&this.poolId:\"expense-examines\"===this.crmType?this.crm.expense.delete:this.crm[this.crmType].delete:\"put_seas\"==e?this.crm[this.crmType].putinpool:\"lock\"==e||\"unlock\"==e?this.crm[this.crmType].lock:\"add_user\"==e||\"delete_user\"==e?this.crm[this.crmType].teamsave:\"alloc\"==e?this.poolId?this.poolAuth.distribute:this.crm.pool.distribute:\"get\"==e?this.poolId?this.poolAuth.receive:this.crm.pool.receive&&this.poolId:\"start\"==e||\"disable\"==e?this.crm[this.crmType].status:\"deal_status\"==e?this.crm[this.crmType].dealStatus:\"cancel\"==e?!(!this.crm[this.crmType].discard||1!==this.detail.checkStatus):\"print\"!=e||this.crm[this.crmType].print}}},_=(i(\"+ATa\"),i(\"KHd+\")),w=Object(_.a)(T,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"container\"},[a(\"flexbox\",{staticClass:\"t-section\",attrs:{align:\"stretch\"}},[a(\"img\",{staticClass:\"t-section__hd\",attrs:{onerror:'this.src=\"'+i(\"Tww3\")+'\"',src:e.crmIcon}}),e._v(\" \"),a(\"div\",{staticClass:\"t-section__bd\"},[a(\"div\",{staticClass:\"type-name\"},[e._v(e._s(e.typeName))]),e._v(\" \"),a(\"p\",{staticClass:\"name\"},[a(\"el-tooltip\",{attrs:{disabled:!e.name,content:e.name,effect:\"dark\",placement:\"top-start\"}},[a(\"span\",[e._v(e._s(e.name))])]),e._t(\"name\")],2)]),e._v(\" \"),a(\"div\",{staticClass:\"t-section__ft\"},[e.showTransfer?a(\"el-button\",{staticClass:\"head-handle-button\",attrs:{type:\"primary\",icon:\"wk wk-transfer\"},nativeOn:{click:function(t){e.handleTypeClick(\"transfer\")}}},[e._v(\"转移\")]):e._e(),e._v(\" \"),e.showEdit?a(\"el-button\",{staticClass:\"head-handle-button xr-btn--green\",attrs:{icon:\"wk wk-circle-edit\",type:\"primary\"},nativeOn:{click:function(t){e.handleTypeClick(\"edit\")}}},[e._v(\"编辑\")]):e._e(),e._v(\" \"),e.showDealStatus?a(\"el-button\",{staticClass:\"head-handle-button\",attrs:{type:\"primary\",icon:\"wk wk-success\"},nativeOn:{click:function(t){e.handleTypeClick(\"deal_status\")}}},[e._v(\"更改成交状态\")]):e._e(),e._v(\" \"),e.permissionMoreTypes&&e.permissionMoreTypes.length>0?a(\"el-dropdown\",{attrs:{trigger:\"click\"},on:{command:e.handleTypeClick}},[a(\"el-button\",{staticClass:\"t-more\",attrs:{icon:\"el-icon-more\"}}),e._v(\" \"),a(\"el-dropdown-menu\",{attrs:{slot:\"dropdown\"},slot:\"dropdown\"},e._l(e.permissionMoreTypes,function(t,i){return a(\"el-dropdown-item\",{key:i,attrs:{icon:e._f(\"wkIconPre\")(t.icon),command:t.type}},[e._v(e._s(t.name))])}))],1):e._e()],1)]),e._v(\" \"),a(\"flexbox\",{staticClass:\"h-section\",attrs:{align:\"stretch\"}},e._l(e.headDetails,function(t,i){return a(\"flexbox-item\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.title,expression:\"item.title\"}],key:i,staticClass:\"h-item\",attrs:{span:\"200\"}},[a(\"div\",{staticClass:\"h-title\"},[e._v(e._s(t.title))]),e._v(\" \"),a(\"div\",{staticClass:\"h-value text-one-line\"},[t.showIcon?a(\"i\",{class:t.icon,style:t.style}):e._e(),e._v(e._s(t.value))])])})),e._v(\" \"),e._t(\"default\"),e._v(\" \"),a(\"transfer-handle\",{attrs:{\"crm-type\":e.crmType,\"selection-list\":[e.detail],\"dialog-visible\":e.transferDialogShow},on:{\"update:dialogVisible\":function(t){e.transferDialogShow=t},handle:e.handleCallBack}}),e._v(\" \"),a(\"alloc-handle\",{attrs:{\"crm-type\":e.crmType,\"pool-id\":e.poolId,\"selection-list\":[e.detail],\"dialog-visible\":e.allocDialogShow},on:{\"update:dialogVisible\":function(t){e.allocDialogShow=t},handle:e.handleCallBack}}),e._v(\" \"),a(\"deal-status-handle\",{attrs:{value:e.detail.dealStatus,\"crm-type\":e.crmType,\"selection-list\":[e.detail],visible:e.dealStatusShow},on:{\"update:visible\":function(t){e.dealStatusShow=t},handle:e.handleCallBack}}),e._v(\" \"),a(\"put-pool-handle\",{attrs:{visible:e.putPoolShow,\"selection-list\":[e.detail]},on:{\"update:visible\":function(t){e.putPoolShow=t},handle:e.handleCallBack}})],2)},[],!1,null,\"54628ebd\",null);w.options.__file=\"CRMDetailHead.vue\";t.default=w.exports},u2hk:function(e,t,i){\"use strict\";var a=i(\"7Qib\"),s={name:\"FileListView\",filters:{fontSizeValue:function(e){return Object(a.h)(e)}},props:{list:{type:Array,required:!0}},data:function(){return{}},methods:{getFileTypeIcon:function(e){if(!e)return\"\";var t=e?e.split(\".\"):[],i=\"\";return i=t.length>0?t[t.length-1]:\"\",Object(a.n)(i)},downloadClick:function(e){Object(a.d)({path:e.filePath||e.url,name:e.name})},previewClick:function(e,t){this.$bus.emit(\"preview-image-bus\",{index:t,data:this.list.map(function(e){return{url:e.filePath||e.url,name:e.name}})})}}},n=(i(\"eZ9R\"),i(\"KHd+\")),l=Object(n.a)(s,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"file-list-view\"},e._l(e.list,function(t,s){return a(\"div\",{key:s,staticClass:\"file-item\"},[a(\"img\",{staticClass:\"pic-icon\",attrs:{onerror:'this.src=\"'+i(\"Tww3\")+'\"',src:e.getFileTypeIcon(t.name),alt:\"\"}}),e._v(\" \"),a(\"div\",{staticClass:\"file-name text-one-line\"},[e._v(e._s(t.name))]),e._v(\" \"),a(\"div\",{staticClass:\"file-size\"},[e._v(\"( \"+e._s(e._f(\"fontSizeValue\")(t.size))+\" )\")]),e._v(\" \"),a(\"div\",{staticClass:\"down\"},[a(\"span\",{on:{click:function(i){e.previewClick(t,s)}}},[e._v(\"预览\")]),e._v(\" \"),a(\"span\",{on:{click:function(i){e.downloadClick(t)}}},[e._v(\"下载\")])])])}))},[],!1,null,\"4256e0c4\",null);l.options.__file=\"FileListView.vue\";t.a=l.exports},w4ZA:function(e,t,i){\"use strict\";i.r(t);var a=i(\"QbLZ\"),s=i.n(a),n=i(\"4XAY\"),l=i(\"8GhS\"),r=i(\"LZF0\"),o=i(\"ZoMv\"),c=i(\"h59h\"),u=i(\"Vm8M\"),d=i(\"u2hk\"),m=i(\"dAOq\"),h=i(\"jHPx\"),f=i(\"7Qib\"),p=i(\"a/5N\"),v=i(\"L2JU\"),y={name:\"CRMEditBaseInfo\",components:{Sections:c.default,MapView:u.a,FileListView:d.a,XhUserCell:l.p,XhStructureCell:l.n,XhFiles:l.f,CrmRelativeCell:l.a,XhProuctCate:l.j,XhBusinessStatus:l.b,XhReceivablesPlan:l.k,CRMFullScreenDetail:function(){return Promise.all([i.e(\"chunk-66f9\"),i.e(\"chunk-63bb\"),i.e(\"chunk-7029\"),i.e(\"chunk-9dc6\"),i.e(\"chunk-682d\")]).then(i.bind(null,\"3z7q\"))}},filters:{},mixins:[r.default,m.a],props:{id:[String,Number],poolId:[String,Number],isSeas:{type:Boolean,default:!1},detail:{type:Object,default:function(){return{}}},crmType:{type:String,default:\"\"},filedList:Array},data:function(){return{list:[],showMapView:!1,mapViewInfo:{},showFullDetail:!1,fullDetailId:\"\",fullDetailType:\"\",showSaveButton:!1,editRules:{},editForm:{},editOptions:{},editFieldData:[]}},inject:[\"rootTabs\"],computed:s()({},Object(v.b)([\"crm\"])),watch:{id:function(e){this.filedList||this.refreshData(!0)},filedList:function(){this.list=this.filedList},\"rootTabs.currentName\":function(e){\"CRMEditBaseInfo\"===e&&this.refreshData(!1)}},created:function(){var e=this;this.$bus.on(\"crm-detail-update\",function(t){e.getBaseInfo(!1),e.isSeas||e.refreshData(!0)})},beforeDestroy:function(){this.$bus.off(\"crm-detail-update\")},mounted:function(){this.filedList?this.list=this.filedList:this.refreshData(!0)},methods:{refreshData:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.getBaseInfo(e),this.isSeas||this.getEditFieldData()},getBaseInfo:function(e){var t=this;this.loading=!!e;var i={types:o.default[this.crmType],id:this.id};this.poolId&&(i.poolId=this.poolId),Object(n.y)(i).then(function(e){var i=[],a=[];e.data.forEach(function(e){\"floatnumber\"===e.formType&&(e.value=Object(h.h)(e.value)),1==e.sysInformation?a.push(e):i.push(e)}),t.list=[{name:\"基本信息\",list:i},{name:\"系统信息\",list:a}],t.editCancel(),t.loading=!1}).catch(function(){t.loading=!1})},checkMapView:function(e){e.value&&\"\"!==e.value&&(this.mapViewInfo={title:e.value.location,lat:e.value.lat,lng:e.value.lng},this.showMapView=!0)},getArrayKey:function(e){return\"structure\"===e?\"name\":\"user\"===e?\"realname\":\"\"},arrayValue:function(e,t){return e&&\"[object Array]\"===Object.prototype.toString.call(e)?e.map(function(e){return t?e[t]:e}).join(\"，\"):\"\"},isModule:function(e){return[\"customer\",\"business\",\"contract\",\"contacts\"].includes(e.formType)},isSpecialField:function(e){return[\"category\",\"statusName\",\"typeName\"].includes(e.formType)},isBlockShowField:function(e){return[\"map_address\",\"file\"].includes(e.formType)},getShowBlock:function(e){return[\"map_address\",\"file\"].includes(e)},getModuleName:function(e){var t={customer:\"customerName\",business:\"businessName\",contract:\"contractNum\",contacts:\"contactsName\",category:\"categoryName\",statusName:\"statusName\",typeName:\"typeName\"}[e.formType];return e.value?e.value[t]:\"\"},getFieldOption:function(e){var t=this.editOptions[e.fieldName],i=[];return t&&(\"select\"===e.formType||\"checkbox\"===e.formType?i=t.setting.length>0&&\"string\"==typeof t.setting[0]?t.setting.map(function(e){return{name:e,value:e}}):t.setting:\"business_status\"===e.formType&&(i=t.setting.map(function(e){return e.value=e.statusId,e}))),i},getCommonShowValue:function(e){return this.isModule(e)||this.isSpecialField(e)?this.getModuleName(e):\"single_user\"===e.formType?e.value?e.value.realname:\"\":\"checkbox\"===e.formType||\"structure\"===e.formType||\"user\"===e.formType?this.arrayValue(e.value,this.getArrayKey(e.formType)):\"check_status\"===e.formType?this.getStatusName(e.value):e.value},checkModuleDetail:function(e){this.isModule(e)&&Object(p.c)(e.value)&&(this.fullDetailType=e.formType,this.fullDetailId=e.value[e.formType+\"Id\"],this.showFullDetail=!0)},getEditAuth:function(e){return!this.isSeas&&((\"business\"!=this.crmType||![\"statusName\",\"typeName\"].includes(e.formType))&&((\"contract\"!=this.crmType||![\"business\",\"contacts\",\"customer\"].includes(e.formType))&&((\"receivables\"!=this.crmType||![\"contract\",\"customer\"].includes(e.formType))&&((\"visit\"!=this.crmType||![\"business\",\"contacts\",\"customer\"].includes(e.formType))&&(3===e.authLevel&&this.crm&&this.crm[this.crmType]&&this.crm[this.crmType].update)))))},editClick:function(e){var t=this.editFieldData.find(function(t){return t.fieldName==e.fieldName});if(t){var i=Object(p.a)(t.value)||Object(p.c)(t.value)?Object(f.t)(t.value):t.value;\"contacts\"===e.formType||\"customer\"===e.formType||\"contract\"===e.formType||\"business\"===e.formType?i=i&&i[e.formType+\"Id\"]?[i]:[]:\"category\"===e.formType?i=i&&i.categoryId?i.categoryId:[]:\"single_user\"===e.formType?i=i&&i.userId?[i]:[]:\"structure\"!==e.formType&&\"file\"!==e.formType&&\"user\"!==e.formType||(i=i||[]),this.$set(this.editForm,e.fieldName,i),this.$set(t,\"isEdit\",!0),this.$set(this.editOptions,e.fieldName,t)}this.showSaveButton=!0,this.$set(e,\"isEdit\",!0)},editCancel:function(){var e=this;this.$refs.editForm0[0].clearValidate&&this.$refs.editForm0[0].clearValidate(),this.$nextTick(function(){e.list.forEach(function(e){e.list.forEach(function(e){e.isEdit=!1})}),e.editFieldData.forEach(function(e){e.isEdit=!1}),e.editForm={},e.editOptions={},e.showSaveButton=!1})},editConfirm:function(){var e=this;this.$refs.editForm0[0].validate(function(t){t&&e.submiteInfo()})},submiteInfo:function(){var e=this;this.loading=!0;for(var t=this.list[0].list||[],i=[],a=0;a<t.length;a++){var s=t[a];if(s.isEdit){var l=this.editOptions[s.fieldName];l&&(l.value=this.getRealValue(l,this.editForm[s.fieldName]),i.push(l))}}Object(n.B)({id:this.id,batchId:this.detail.batchId,label:o.default[this.crmType],list:i}).then(function(t){e.loading=!1,e.editCancel(),e.refreshData(!0)}).catch(function(){e.loading=!1})},getRealValue:function(e,t){return\"customer\"==e.formType||\"contacts\"==e.formType||\"business\"==e.formType||\"leads\"==e.formType||\"contract\"==e.formType?t&&t.length?t[0][e.formType+\"Id\"]:\"\":\"user\"==e.formType||\"single_user\"==e.formType||\"structure\"==e.formType?t.map(function(t){return\"user\"==e.formType||\"single_user\"==e.formType?t.userId:t.id}).join(\",\"):\"file\"==e.formType?t&&t.length>0?t[0].batchId:\"\":\"category\"==e.formType?t&&t.length>0?t[t.length-1]:\"\":\"checkbox\"==e.formType?t&&t.length>0?t.join(\",\"):\"\":t},arrayValueChange:function(e,t){this.editForm[t.fieldName]=e.value||[]},getEditFieldData:function(){var e=this,t={label:o.default[this.crmType],id:this.id};Object(n.x)(t).then(function(t){var i=t.data||[],a={};i.forEach(function(t){t.isEdit=!1;var i=e.getItemRulesArrayFromItem(t);i&&i.length&&(a[t.fieldName]=i)}),e.editFieldData=i,e.editRules=a}).catch(function(){})},ingnoreRequiredField:function(e){return\"contract\"==this.crmType&&\"num\"==e.fieldName?1==e.autoGeneNumber:\"receivables\"==this.crmType&&\"number\"==e.fieldName?1==e.autoGeneNumber:\"visit\"==this.crmType&&\"visit_number\"==e.fieldName&&1==e.autoGeneNumber},getItemRulesArrayFromItem:function(e){var t=this,i=[];if(1==e.isNull&&!this.ingnoreRequiredField(e)){i.push({validator:function(t,i,a){if(!t.item||!t.item.isEdit)return a();Object(p.b)(i)?a(new Error(e.name+\"不能为空\")):a()},item:e,trigger:[]})}if(1==e.isUnique){i.push({validator:function(i,a,s){if(Object(p.a)(a)&&0==a.length||!a)s();else{var l={};if(l.fieldId=e.fieldId,Object(p.a)(a)){var r=\"\";a.length>0&&(\"user\"==i.item.formType||\"single_user\"==i.item.formType||\"structure\"==i.item.formType?r=a.map(function(e){return\"user\"==i.item.formType||\"single_user\"==i.item.formType?e.userId:e.id}).join(\",\"):\"categoryId\"==i.item.fieldName?r=a&&a.length?a[a.length-1]:\"\":\"checkbox\"==i.item.formType&&(r=a.join(\",\"))),l.value=r}else l.value=a;l.batchId=t.detail.batchId,Object(n.C)(l).then(function(t){1===t.data.status?s():s(new Error(e.name+\"已存在\"))}).catch(function(e){s(new Error(e.msg?e.msg:\"验证出错\"))})}},item:e,trigger:(\"checkbox\"==e.formType||e.formType,[])})}if(\"number\"==e.formType){i.push({validator:function(e,t,i){if(!e.item||!e.item.isEdit)return i();!t||\"\"==t||Object(f.x)(t)?i():i(new Error(\"数字的整数部分须少于15位，小数部分须少于4位\"))},item:e,trigger:[]})}else if(\"floatnumber\"==e.formType){i.push({validator:function(e,t,i){if(!e.item||!e.item.isEdit)return i();!t||\"\"==t||Object(f.w)(t)?i():i(new Error(\"货币的整数部分须少于15位，小数部分须少于2位\"))},item:e,trigger:[]})}else if(\"mobile\"==e.formType){i.push({validator:function(e,t,i){if(!e.item||!e.item.isEdit)return i();!t||\"\"==t||Object(f.v)(t)?i():i(new Error(\"手机格式有误\"))},item:e,trigger:[]})}else if(\"email\"==e.formType){i.push({validator:function(e,t,i){if(!e.item||!e.item.isEdit)return i();!t||\"\"==t||Object(f.u)(t)?i():i(new Error(\"邮箱格式有误\"))},item:e,trigger:[]})}return i}}},b=(i(\"1Jl6\"),i(\"KHd+\")),g=Object(b.a)(y,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(\"div\",{staticClass:\"b-cont\"},[e.showSaveButton?i(\"div\",{staticClass:\"b-cont__handle\"},[i(\"el-button\",{nativeOn:{click:function(t){return e.editCancel(t)}}},[e._v(\"取消\")]),e._v(\" \"),i(\"el-button\",{directives:[{name:\"debounce\",rawName:\"v-debounce\",value:e.editConfirm,expression:\"editConfirm\"}],attrs:{type:\"primary\"}},[e._v(\"保存\")])],1):e._e(),e._v(\" \"),e._l(e.list,function(t,a){return i(\"sections\",{key:a,staticClass:\"b-cells\",attrs:{title:t.name,\"content-height\":\"auto\"}},[i(\"el-form\",{ref:\"editForm\"+a,refInFor:!0,staticClass:\"el-form--flex\",attrs:{model:e.editForm,rules:e.editRules,\"label-position\":\"left\",\"label-width\":\"100px\"}},e._l(t.list,function(t,a){return i(\"el-form-item\",{key:a,class:{\"is-block\":e.isBlockShowField(t)},attrs:{prop:t.fieldName}},[i(\"span\",{attrs:{slot:\"label\"},slot:\"label\"},[e._v(\"\\n          \"+e._s(t.name)+\"\\n        \")]),e._v(\" \"),t.isEdit?[\"text\"===t.formType||\"number\"==t.formType||\"floatnumber\"==t.formType||\"mobile\"==t.formType||\"email\"==t.formType||\"textarea\"==t.formType?i(\"el-input\",{model:{value:e.editForm[t.fieldName],callback:function(i){e.$set(e.editForm,t.fieldName,i)},expression:\"editForm[item.fieldName]\"}}):\"select\"===t.formType||\"business_status\"===t.formType?i(\"el-select\",{staticStyle:{width:\"100%\"},attrs:{clearable:\"\"},model:{value:e.editForm[t.fieldName],callback:function(i){e.$set(e.editForm,t.fieldName,i)},expression:\"editForm[item.fieldName]\"}},e._l(e.getFieldOption(t),function(e,t){return i(\"el-option\",{key:t,attrs:{label:e.name,value:e.value}})})):\"checkbox\"===t.formType?i(\"el-select\",{staticStyle:{width:\"100%\"},attrs:{multiple:\"\",clearable:\"\"},model:{value:e.editForm[t.fieldName],callback:function(i){e.$set(e.editForm,t.fieldName,i)},expression:\"editForm[item.fieldName]\"}},e._l(e.getFieldOption(t),function(e,t){return i(\"el-option\",{key:t,attrs:{label:e.name,value:e.value}})})):\"date\"===t.formType?i(\"el-date-picker\",{staticStyle:{width:\"100%\"},attrs:{type:\"date\",clearable:\"\",\"value-format\":\"yyyy-MM-dd\"},model:{value:e.editForm[t.fieldName],callback:function(i){e.$set(e.editForm,t.fieldName,i)},expression:\"editForm[item.fieldName]\"}}):\"datetime\"===t.formType?i(\"el-date-picker\",{staticStyle:{width:\"100%\"},attrs:{clearable:\"\",type:\"datetime\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\"},model:{value:e.editForm[t.fieldName],callback:function(i){e.$set(e.editForm,t.fieldName,i)},expression:\"editForm[item.fieldName]\"}}):\"user\"===t.formType||\"single_user\"===t.formType?i(\"xh-user-cell\",{attrs:{value:e.editForm[t.fieldName],radio:\"single_user\"===t.formType},on:{\"value-change\":function(i){e.arrayValueChange(i,t)}}}):\"structure\"===t.formType?i(\"xh-structure-cell\",{attrs:{value:e.editForm[t.fieldName],radio:!1},on:{\"value-change\":function(i){e.arrayValueChange(i,t)}}}):\"contacts\"===t.formType||\"customer\"===t.formType||\"contract\"===t.formType||\"business\"===t.formType?i(\"crm-relative-cell\",{attrs:{\"relative-type\":t.formType,value:e.editForm[t.fieldName]},on:{\"value-change\":function(i){e.arrayValueChange(i,t)}}}):\"file\"===t.formType?i(\"xh-files\",{attrs:{value:e.editForm[t.fieldName]},on:{\"value-change\":function(i){e.arrayValueChange(i,t)}}}):\"category\"===t.formType?i(\"xh-prouct-cate\",{attrs:{value:e.editForm[t.fieldName]},on:{\"value-change\":function(i){e.arrayValueChange(i,t)}}}):e._e()]:[\"file\"===t.formType?i(\"flexbox\",{staticStyle:{\"min-height\":\"40px\"}},[i(\"file-list-view\",{attrs:{list:t.value||[]}}),e._v(\" \"),e.getEditAuth(t)?i(\"i\",{staticClass:\"wk wk-edit form-item__edit\",on:{click:function(i){e.editClick(t)}}}):e._e()],1):\"map_address\"===t.formType?i(\"div\",{attrs:{gutter:0,wrap:\"wrap\"}},[i(\"div\",{staticClass:\"b-cell\",attrs:{span:.5},on:{click:function(i){e.checkMapView(t)}}},[i(\"flexbox\",{staticClass:\"b-cell-b\"},[i(\"div\",{staticClass:\"b-cell-name\"},[e._v(\"定位\")]),e._v(\" \"),i(\"div\",{staticClass:\"b-cell-value\",staticStyle:{color:\"#3E84E9\",cursor:\"pointer\"}},[e._v(e._s(t.value.location))])])],1),e._v(\" \"),i(\"div\",{staticClass:\"b-cell\",attrs:{span:.5}},[i(\"flexbox\",{staticClass:\"b-cell-b\"},[i(\"div\",{staticClass:\"b-cell-name\"},[e._v(\"区域\")]),e._v(\" \"),i(\"div\",{staticClass:\"b-cell-value\"},[e._v(e._s(t.value.address))])])],1),e._v(\" \"),i(\"div\",{staticClass:\"b-cell\",attrs:{span:.5}},[i(\"flexbox\",{staticClass:\"b-cell-b\"},[i(\"div\",{staticClass:\"b-cell-name\"},[e._v(\"详细地址\")]),e._v(\" \"),i(\"div\",{staticClass:\"b-cell-value\"},[e._v(e._s(t.value.detailAddress))])])],1)]):i(\"div\",{staticClass:\"form-item__value\",class:{\"can-check\":e.isModule(t)},on:{click:function(i){e.checkModuleDetail(t)}}},[e._v(e._s(e.getCommonShowValue(t))),e.getEditAuth(t)?i(\"i\",{staticClass:\"wk wk-edit form-item__edit\",on:{click:function(i){i.stopPropagation(),e.editClick(t)}}}):e._e()])]],2)}))],1)}),e._v(\" \"),e._t(\"default\"),e._v(\" \"),e.showMapView?i(\"map-view\",{attrs:{title:e.mapViewInfo.title,lat:e.mapViewInfo.lat,lng:e.mapViewInfo.lng},on:{hidden:function(t){e.showMapView=!1}}}):e._e(),e._v(\" \"),i(\"c-r-m-full-screen-detail\",{attrs:{visible:e.showFullDetail,id:e.fullDetailId,\"crm-type\":e.fullDetailType},on:{\"update:visible\":function(t){e.showFullDetail=t}}})],2)},[],!1,null,\"4e6d877e\",null);g.options.__file=\"CRMEditBaseInfo.vue\";t.default=g.exports},zfcF:function(e,t,i){}}]);","extractedComments":[]}