{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-d829\"],{\"2DVy\":function(e,t,i){},\"2f65\":function(e,t,i){},\"555n\":function(e,t,i){\"use strict\";var n=i(\"WWg6\");i.n(n).a},\"7mY3\":function(e,t,i){\"use strict\";var n=i(\"2f65\");i.n(n).a},\"9GgJ\":function(e,t,i){\"use strict\";var n={name:\"XrHeader\",components:{},props:{iconClass:[String,Array],iconColor:String,label:String,showSearch:{type:Boolean,default:!1},searchIconType:{type:String,default:\"text\"},placeholder:{type:String,default:\"请输入内容\"},ftTop:{type:String,default:\"15px\"},content:[String,Number],inputAttr:{type:Object,default:function(){}}},data:function(){return{search:\"\"}},computed:{},watch:{content:{handler:function(){this.search!=this.content&&(this.search=this.content)},immediate:!0}},mounted:function(){},beforeDestroy:function(){},methods:{inputChange:function(){this.$emit(\"update:content\",this.search)},searchClick:function(){this.$emit(\"search\",this.search)}}},a=(i(\"7mY3\"),i(\"KHd+\")),s=Object(a.a)(n,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(\"flexbox\",{staticClass:\"xr-header\"},[e.iconClass?i(\"div\",{staticClass:\"xr-header__icon\",style:{backgroundColor:e.iconColor}},[i(\"i\",{class:e.iconClass})]):e._e(),e._v(\" \"),i(\"div\",{staticClass:\"xr-header__label\"},[e.$slots.label?e._t(\"label\"):[e._v(e._s(e.label))]],2),e._v(\" \"),e.showSearch?i(\"el-input\",e._b({staticClass:\"xr-header__search\",class:{\"is-text\":\"text\"===e.searchIconType},style:{\"margin-top\":e.ftTop},attrs:{placeholder:e.placeholder},on:{input:e.inputChange},nativeOn:{keyup:function(t){return\"button\"in t||!e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?e.searchClick(t):null}},model:{value:e.search,callback:function(t){e.search=t},expression:\"search\"}},\"el-input\",e.inputAttr,!1),[\"text\"===e.searchIconType?i(\"el-button\",{attrs:{slot:\"append\",type:\"primary\"},nativeOn:{click:function(t){return e.searchClick(t)}},slot:\"append\"},[e._v(\"搜索\")]):i(\"el-button\",{attrs:{slot:\"append\",icon:\"el-icon-search\"},nativeOn:{click:function(t){return e.searchClick(t)}},slot:\"append\"})],1):e._e(),e._v(\" \"),i(\"div\",{staticClass:\"xr-header__ft\",style:{top:e.ftTop}},[e._t(\"ft\")],2)],1)},[],!1,null,\"acb6d756\",null);s.options.__file=\"index.vue\";t.a=s.exports},\"9cPJ\":function(e,t,i){e.exports=i.p+\"static/img/visit.ffb589c.png\"},AoS0:function(e,t,i){\"use strict\";var n=i(\"2DVy\");i.n(n).a},JAjk:function(e,t,i){e.exports=i.p+\"static/img/contacts.83d4b7f.png\"},N10N:function(e,t,i){\"use strict\";i.r(t);var n=i(\"6iAj\"),a=i(\"p2mV\"),s=i(\"9GgJ\"),l={name:\"CustomField\",components:{PreviewFieldView:a.default,XrHeader:s.a},data:function(){return{loading:!1,tableHeight:document.documentElement.clientHeight-140,tableList:[],tablePreviewData:{types:\"\",typesId:\"\"},showTablePreview:!1}},created:function(){window.onresize=function(){self.tableHeight=document.documentElement.clientHeight-140},this.getDetail()},methods:{getDetail:function(){var e=this;this.loading=!0,Object(n.u)().then(function(t){e.tableList=t.data,e.loading=!1}).catch(function(){e.loading=!1})},handleCustomField:function(e,t,i){if(\"edit\"==e){var n={1:\"crm_leads\",2:\"crm_customer\",3:\"crm_contacts\",4:\"crm_product\",5:\"crm_business\",6:\"crm_contract\",7:\"crm_receivables\",17:\"crm_visit\",50:\"crm_expense\"}[t.label];this.$router.push(\"/manage/customer/custom-field/custom-field/\"+n+\"/none/\"+t.label)}else\"preview\"==e&&(this.tablePreviewData=t,this.showTablePreview=!0)},getCustomFieldIcon:function(e){return i(1===e?\"keIY\":2===e?\"wfwE\":3===e?\"JAjk\":5===e?\"dTTw\":6===e?\"U4MQ\":4===e?\"wbJn\":7===e?\"bok9\":17===e?\"9cPJ\":\"wbJn\")}}},o=(i(\"AoS0\"),i(\"KHd+\")),c=Object(o.a)(l,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"system-customer\"},[n(\"div\",{staticClass:\"customer-content\"},[n(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading,expression:\"loading\"}],staticStyle:{width:\"100%\"},attrs:{data:e.tableList,height:e.tableHeight,\"highlight-current-row\":\"\"}},[n(\"el-table-column\",{attrs:{label:\"序号\",type:\"index\",\"show-overflow-tooltip\":\"\",width:\"70\",fixed:\"\"}}),e._v(\" \"),n(\"el-table-column\",{attrs:{prop:\"name\",label:\"模块\",\"show-overflow-tooltip\":\"\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"img\",{staticClass:\"table-item-icon\",attrs:{onerror:'this.src=\"'+i(\"Tww3\")+'\"',src:e.getCustomFieldIcon(t.row.label)}}),e._v(\" \"),n(\"span\",{staticClass:\"table-item-label\"},[e._v(e._s(t.row.name))])]}}])}),e._v(\" \"),n(\"el-table-column\",{attrs:{prop:\"name\",label:\"更新时间\",\"show-overflow-tooltip\":\"\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"span\",{staticClass:\"table-item-time\"},[e._v(e._s(0==t.row.updateTime?\"暂无\":t.row.updateTime))])]}}])}),e._v(\" \"),n(\"el-table-column\",{attrs:{fixed:\"right\",label:\"操作\",width:\"100\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"el-button\",{attrs:{type:\"text\",size:\"small\"},on:{click:function(i){e.handleCustomField(\"edit\",t.row,t.$index)}}},[e._v(\"编辑\")]),e._v(\" \"),n(\"el-button\",{attrs:{type:\"text\",size:\"small\"},on:{click:function(i){e.handleCustomField(\"preview\",t.row,t.$index)}}},[e._v(\"预览\")])]}}])})],1)],1),e._v(\" \"),e.showTablePreview?n(\"preview-field-view\",{attrs:{types:e.tablePreviewData.types,\"types-id\":e.tablePreviewData.typesId,label:e.tablePreviewData.label},on:{\"hiden-view\":function(t){e.showTablePreview=!1}}}):e._e()],1)},[],!1,null,\"16ef4d35\",null);c.options.__file=\"index.vue\";t.default=c.exports},U4MQ:function(e,t,i){e.exports=i.p+\"static/img/contract.65548f9.png\"},WWg6:function(e,t,i){},bok9:function(e,t,i){e.exports=i.p+\"static/img/receivables.29e9174.png\"},dTTw:function(e,t,i){e.exports=i.p+\"static/img/business.66d7980.png\"},keIY:function(e,t,i){e.exports=i.p+\"static/img/leads.2c5bddd.png\"},p2mV:function(e,t,i){\"use strict\";i.r(t);var n=i(\"ViDN\"),a=i(\"EP+0\"),s=i(\"6iAj\"),l=i(\"8GhS\"),o={name:\"PreviewFieldView\",components:{CreateView:n.a,CreateSections:a.a,XhInput:l.g,XhTextarea:l.o,XhSelect:l.l,XhMultipleSelect:l.h,XhDate:l.d,XhDateTime:l.e,XhUserCell:l.p,XhStructureCell:l.n,XhFiles:l.f,CrmRelativeCell:l.a,XhProuctCate:l.j,XhProduct:l.i,XhBusinessStatus:l.b,XhCustomerAddress:l.c,XhReceivablesPlan:l.k},filters:{typeToComponentName:function(e){return\"text\"==e||\"number\"==e||\"floatnumber\"==e||\"mobile\"==e||\"email\"==e?\"XhInput\":\"textarea\"==e?\"XhTextarea\":\"select\"==e||\"business_status\"==e?\"XhSelect\":\"checkbox\"==e?\"XhMultipleSelect\":\"date\"==e?\"XhDate\":\"datetime\"==e?\"XhDateTime\":\"user\"==e?\"XhUserCell\":\"structure\"==e?\"XhStructureCell\":\"file\"==e||\"pic\"==e?\"XhFiles\":\"contacts\"==e||\"customer\"==e||\"contract\"==e||\"business\"==e?\"CrmRelativeCell\":\"category\"==e?\"XhProuctCate\":\"business_type\"==e?\"XhBusinessStatus\":\"product\"==e?\"XhProduct\":\"map_address\"==e?\"XhCustomerAddress\":\"receivables_plan\"==e?\"XhReceivablesPlan\":void 0}},props:{types:{type:String,default:\"\"},typesId:{type:[String,Number],default:\"\"},label:{type:[String,Number],default:\"\"}},data:function(){return{title:\"预览\",loading:!1,crmForm:{crmFields:[]}}},computed:{},watch:{types:function(e){this.crmForm={crmFields:[]},this.getField()}},mounted:function(){document.body.appendChild(this.$el),this.getField()},destroyed:function(){this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)},methods:{getField:function(){var e=this;this.loading=!0;var t=s.v,i={};i.label=this.label,\"oa_examine\"===this.types&&(t=s.w,i.categoryId=this.typesId),t(i).then(function(t){e.getcrmRulesAndModel(t.data),e.loading=!1}).catch(function(){e.loading=!1})},getcrmRulesAndModel:function(e){for(var t=0;t<e.length;t++){var i=e[t],n={};n.value=i.value,n.key=i.fieldName,n.data=i,n.disabled=!0,1!=i.isHidden&&this.crmForm.crmFields.push(n)}},hidenView:function(){this.$emit(\"hiden-view\")},getPaddingLeft:function(e,t){return e.showblock&&1==e.showblock?\"0\":t%2==0?\"0\":\"40px\"},getPaddingRight:function(e,t){return e.showblock&&1==e.showblock?\"0\":t%2==0?\"40px\":\"0\"}}},c=(i(\"555n\"),i(\"KHd+\")),r=Object(c.a)(o,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(\"create-view\",{attrs:{loading:e.loading,\"body-style\":{height:\"100%\"}}},[i(\"flexbox\",{staticClass:\"crm-create-container\",attrs:{direction:\"column\",align:\"stretch\"}},[i(\"flexbox\",{staticClass:\"crm-create-header\"},[i(\"div\",{staticStyle:{flex:\"1\",\"font-size\":\"17px\",color:\"#333\",\"font-weight\":\"bold\"}},[e._v(e._s(e.title))]),e._v(\" \"),i(\"i\",{staticClass:\"el-icon-close close\",on:{click:e.hidenView}})]),e._v(\" \"),i(\"div\",{staticClass:\"crm-create-flex\"},[i(\"create-sections\",{attrs:{title:\"基本信息\"}},[i(\"flexbox\",{attrs:{direction:\"column\",align:\"stretch\"}},[i(\"div\",{staticClass:\"crm-create-body\"},[i(\"el-form\",{ref:\"crmForm\",staticClass:\"crm-create-box\",attrs:{model:e.crmForm,\"label-position\":\"top\"}},e._l(e.crmForm.crmFields,function(t,n){return i(\"el-form-item\",{key:t.key,class:{\"crm-create-block-item\":t.showblock,\"crm-create-item\":!t.showblock},style:{\"padding-left\":e.getPaddingLeft(t,n),\"padding-right\":e.getPaddingRight(t,n)},attrs:{prop:\"crmFields.\"+n+\".value\"}},[i(\"div\",{staticStyle:{display:\"inline-block\"},attrs:{slot:\"label\"},slot:\"label\"},[i(\"div\",{staticClass:\"form-label\"},[e._v(\"\\n                    \"+e._s(t.data.name)+\"\\n                    \"),i(\"span\",{staticStyle:{color:\"#999\"}},[e._v(\"\\n                      \"+e._s(t.data.inputTips?\"（\"+t.data.inputTips+\"）\":\"\")+\"\\n                    \")])])]),e._v(\" \"),i(e._f(\"typeToComponentName\")(t.data.formType),{tag:\"component\",attrs:{radio:!1,disabled:t.disabled}})],1)}))],1)])],1)],1)],1)],1)},[],!1,null,\"3b8aa6c0\",null);r.options.__file=\"PreviewFieldView.vue\";t.default=r.exports},wbJn:function(e,t,i){e.exports=i.p+\"static/img/product.663b457.png\"},wfwE:function(e,t,i){e.exports=i.p+\"static/img/customer.6f13c37.png\"}}]);","extractedComments":[]}