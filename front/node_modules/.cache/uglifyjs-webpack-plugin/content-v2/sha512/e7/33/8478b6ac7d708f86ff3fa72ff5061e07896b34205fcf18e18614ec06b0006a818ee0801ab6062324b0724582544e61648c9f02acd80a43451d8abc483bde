{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-3625\"],{\"/407\":function(t,e,a){\"use strict\";a.r(e);var n={name:\"RelatedBusinessCell\",props:{type:{type:String,default:\"\"},cellIndex:Number,data:Object,showFoot:{type:Boolean,default:!0},cursorPointer:{type:Boolean,default:!0}},data:function(){return{}},computed:{typeName:function(){return\"customer\"==this.type?\"客户\":\"contacts\"==this.type?\"联系人\":\"business\"==this.type?\"商机\":\"contract\"==this.type?\"合同\":\"\"},name:function(){return this.data.name||this.data.businessName||this.data.customerName||this.data.number}},watch:{},mounted:function(){},beforeDestroy:function(){},methods:{footClick:function(){this.$emit(\"unbind\",this.type,this.cellIndex,this.data)},bodyClick:function(){this.$emit(\"detail\",this.type,this.cellIndex,this.data)}}},s=(a(\"/hyb\"),a(\"KHd+\")),i=Object(s.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"flexbox\",{staticClass:\"cell\"},[a(\"div\",{staticClass:\"cell-head\"},[a(\"i\",{class:t._f(\"wkIconPre\")(t.type)}),t._v(\" \"),a(\"span\",[t._v(\"\\n      \"+t._s(\"相关\"+t.typeName+\"-\")+\"\\n    \")])]),t._v(\" \"),a(\"div\",{staticClass:\"cell-body text-one-line\",class:{\"cursor-pointer\":t.cursorPointer},on:{click:t.bodyClick}},[t._v(\"\\n    \"+t._s(t.name)+\"\\n  \")]),t._v(\" \"),a(\"div\",{staticClass:\"cell-foot\"},[t.showFoot?a(\"a\",{staticClass:\"cancel-btn\",on:{click:t.footClick}},[t._v(\"取消关联\")]):t._e()])])},[],!1,null,\"061d0168\",null);i.options.__file=\"index.vue\";e.default=i.exports},\"/hyb\":function(t,e,a){\"use strict\";var n=a(\"KOLf\");a.n(n).a},\"08m3\":function(t,e,a){},\"2f65\":function(t,e,a){},\"4dIA\":function(t,e,a){\"use strict\";a.r(e);var n=a(\"Flj7\"),s={name:\"TaskCell\",components:{},mixins:[a(\"kK4T\").default],props:{data:Object,dataIndex:Number,dataSection:Number},data:function(){return{}},mounted:function(){},methods:{taskOverClick:function(t){Object(n.p)({taskId:t.taskId,status:t.checked?5:1}).then(function(t){}).catch(function(){t.checked=!1})},rowFun:function(t){this.$emit(\"on-handle\",{type:\"view\",data:{item:this.data,index:this.dataIndex,section:this.dataSection}})}}},i=(a(\"heGC\"),a(\"KHd+\")),o=Object(i.a)(s,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{ref:\"taskRow\",staticClass:\"list\",style:{\"border-left-color\":t.getPriorityColor(t.data.priority).color},on:{click:function(e){t.rowFun(t.data)}}},[a(\"div\",{ref:\"listLeft\",staticClass:\"list-left\"},[a(\"div\",{class:t.data.checked?\"title title-active\":\"title\",on:{click:function(t){t.stopPropagation()}}},[a(\"el-checkbox\",{on:{change:function(e){t.taskOverClick(t.data)}},model:{value:t.data.checked,callback:function(e){t.$set(t.data,\"checked\",e)},expression:\"data.checked\"}})],1),t._v(\" \"),a(\"el-tooltip\",{attrs:{placement:\"bottom\",effect:\"light\",\"popper-class\":\"task-tooltip tooltip-change-border\"}},[a(\"div\",{attrs:{slot:\"content\"},slot:\"content\"},[a(\"span\",[t._v(t._s(t.data.name))])]),t._v(\" \"),a(\"span\",{ref:\"itemSpan\",class:t.data.checked?\"item-name-active\":\"item-name\"},[t._v(\"\\n        \"+t._s(t.data.name)+\"\\n      \")])])],1),t._v(\" \"),a(\"div\",{staticClass:\"list-right\"},[t.data.labelList?a(\"div\",{staticClass:\"tag-box\"},[t.data.labelList.length<=2?t._l(t.data.labelList,function(e,n){return a(\"div\",{key:n,staticClass:\"item-label\"},[a(\"span\",{staticClass:\"k-name\",style:{background:e.color}},[t._v(t._s(e.labelName))])])}):[a(\"span\",{staticClass:\"k-name\",style:{background:t.data.labelList[0].color}},[t._v(t._s(t.data.labelList[0].labelName))]),t._v(\" \"),a(\"span\",{staticClass:\"k-name\",style:{background:t.data.labelList[1].color}},[t._v(t._s(t.data.labelList[1].labelName))]),t._v(\" \"),a(\"el-tooltip\",{attrs:{placement:\"top\",effect:\"light\",\"popper-class\":\"tooltip-change-border task-tooltip\"}},[a(\"div\",{staticClass:\"tooltip-content\",staticStyle:{margin:\"10px 10px 10px 0\"},attrs:{slot:\"content\"},slot:\"content\"},t._l(t.data.labelList,function(e,n){return a(\"div\",{key:n,staticClass:\"item-label\",staticStyle:{display:\"inline-block\",\"margin-right\":\"10px\"}},[n>=2?a(\"span\",{staticClass:\"k-name\",staticStyle:{\"border-radius\":\"3px\",color:\"#FFF\",padding:\"3px 10px\"},style:{background:e.color?e.color:\"#ccc\"}},[t._v(t._s(e.labelName))]):t._e()])})),t._v(\" \"),a(\"span\",{staticClass:\"color-label-more\"},[a(\"i\",[t._v(\"...\")])])])]],2):t._e(),t._v(\" \"),a(\"div\",{staticClass:\"img-group\"},[t.data.relationCount?a(\"div\",{staticClass:\"img-box\"},[a(\"i\",{staticClass:\"wukong wukong-relevance\"}),t._v(\" \"),a(\"span\",[t._v(t._s(t.data.relationCount))])]):t._e(),t._v(\" \"),t.data.childAllCount>0?a(\"div\",{staticClass:\"img-box\"},[a(\"i\",{staticClass:\"wukong wukong-sub-task\"}),t._v(\" \"),a(\"span\",[t._v(t._s(t.data.childWCCount)+\"/\"+t._s(t.data.childAllCount))])]):t._e(),t._v(\" \"),t.data.fileCount?a(\"div\",{staticClass:\"img-box\"},[a(\"i\",{staticClass:\"wukong wukong-file\"}),t._v(\" \"),a(\"span\",[t._v(t._s(t.data.fileCount))])]):t._e(),t._v(\" \"),t.data.commentCount?a(\"div\",{staticClass:\"img-box\"},[a(\"i\",{staticClass:\"wukong wukong-comment-task\"}),t._v(\" \"),a(\"span\",[t._v(t._s(t.data.commentCount))])]):t._e(),t._v(\" \"),t.data.stopTime?a(\"div\",{staticClass:\"img-box\"},[a(\"i\",{staticClass:\"wukong wukong-time-task\",style:{color:1!=t.data.isEnd||t.data.checked?\"#999\":\"red\"}}),t._v(\" \"),a(\"span\",{style:{color:1!=t.data.isEnd||t.data.checked?\"#999\":\"red\"}},[t._v(t._s(t._f(\"moment\")(t.data.stopTime,\"MM-DD\"))+\" 截止\")])]):t._e()]),t._v(\" \"),a(\"div\",{staticClass:\"item-own-box\"},[t.data.mainUser&&t.data.mainUser.id?a(\"el-tooltip\",{attrs:{placement:\"bottom\",effect:\"light\",\"popper-class\":\"tooltip-change-border\"}},[a(\"div\",{attrs:{slot:\"content\"},slot:\"content\"},[a(\"span\",[t._v(t._s(t.data.mainUser.realname))])]),t._v(\" \"),a(\"xr-avatar\",{staticClass:\"user-img\",attrs:{name:t.data.mainUser.realname,size:24,src:t.data.mainUser.img}})],1):t._e()],1)])])},[],!1,null,\"4dea17b8\",null);o.options.__file=\"TaskCell.vue\";e.default=o.exports},\"7mY3\":function(t,e,a){\"use strict\";var n=a(\"2f65\");a.n(n).a},\"9GgJ\":function(t,e,a){\"use strict\";var n={name:\"XrHeader\",components:{},props:{iconClass:[String,Array],iconColor:String,label:String,showSearch:{type:Boolean,default:!1},searchIconType:{type:String,default:\"text\"},placeholder:{type:String,default:\"请输入内容\"},ftTop:{type:String,default:\"15px\"},content:[String,Number],inputAttr:{type:Object,default:function(){}}},data:function(){return{search:\"\"}},computed:{},watch:{content:{handler:function(){this.search!=this.content&&(this.search=this.content)},immediate:!0}},mounted:function(){},beforeDestroy:function(){},methods:{inputChange:function(){this.$emit(\"update:content\",this.search)},searchClick:function(){this.$emit(\"search\",this.search)}}},s=(a(\"7mY3\"),a(\"KHd+\")),i=Object(s.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"flexbox\",{staticClass:\"xr-header\"},[t.iconClass?a(\"div\",{staticClass:\"xr-header__icon\",style:{backgroundColor:t.iconColor}},[a(\"i\",{class:t.iconClass})]):t._e(),t._v(\" \"),a(\"div\",{staticClass:\"xr-header__label\"},[t.$slots.label?t._t(\"label\"):[t._v(t._s(t.label))]],2),t._v(\" \"),t.showSearch?a(\"el-input\",t._b({staticClass:\"xr-header__search\",class:{\"is-text\":\"text\"===t.searchIconType},style:{\"margin-top\":t.ftTop},attrs:{placeholder:t.placeholder},on:{input:t.inputChange},nativeOn:{keyup:function(e){return\"button\"in e||!t._k(e.keyCode,\"enter\",13,e.key,\"Enter\")?t.searchClick(e):null}},model:{value:t.search,callback:function(e){t.search=e},expression:\"search\"}},\"el-input\",t.inputAttr,!1),[\"text\"===t.searchIconType?a(\"el-button\",{attrs:{slot:\"append\",type:\"primary\"},nativeOn:{click:function(e){return t.searchClick(e)}},slot:\"append\"},[t._v(\"搜索\")]):a(\"el-button\",{attrs:{slot:\"append\",icon:\"el-icon-search\"},nativeOn:{click:function(e){return t.searchClick(e)}},slot:\"append\"})],1):t._e(),t._v(\" \"),a(\"div\",{staticClass:\"xr-header__ft\",style:{top:t.ftTop}},[t._t(\"ft\")],2)],1)},[],!1,null,\"acb6d756\",null);i.options.__file=\"index.vue\";e.a=i.exports},Bd1s:function(t,e,a){\"use strict\";var n=a(\"08m3\");a.n(n).a},KOLf:function(t,e,a){},heGC:function(t,e,a){\"use strict\";var n=a(\"yWhj\");a.n(n).a},hwzM:function(t,e,a){\"use strict\";a.r(e);var n=a(\"7Qib\"),s=a(\"KTTK\"),i={name:\"FileCell\",filters:{getFileSize:function(t){return Object(n.h)(t)}},props:{cellIndex:Number,data:Object,list:Array,showFoot:{type:Boolean,default:!0},cursorPointer:{type:Boolean,default:!1},showDelete:{type:Boolean,default:!1},module_id:[String,Number]},data:function(){return{}},computed:{fileIcon:function(){var t=this.data.name?this.data.name.split(\".\"):[],e=\"\";return e=t.length>0?t[t.length-1]:\"\",Object(n.n)(e)},previewShow:function(){return this.list}},watch:{},mounted:function(){},beforeDestroy:function(){},methods:{downloadClick:function(){Object(n.d)({path:this.data.filePath||this.data.url,name:this.data.name})},previewClick:function(){Object(n.a)(this.data.name)?Object(n.G)(this.data.filePath||this.data.url,this.data.name):this.$bus.emit(\"preview-image-bus\",{index:this.cellIndex||0,data:this.list.map(function(t){return{url:t.filePath||t.url,name:t.name}})})},deleteClick:function(){var t=this;this.$confirm(\"确定删除?\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then(function(){Object(s.g)({id:t.data.fileId}).then(function(e){t.$message.success(\"操作成功\"),t.$emit(\"delete\",t.cellIndex,t.data)}).catch(function(){})}).catch(function(){t.$message({type:\"info\",message:\"已取消删除\"})})}}},o=(a(\"Bd1s\"),a(\"KHd+\")),c=Object(o.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"flexbox\",{staticClass:\"cell\"},[n(\"img\",{staticClass:\"cell-head\",attrs:{onerror:'this.src=\"'+a(\"Tww3\")+'\"',src:t.fileIcon,alt:\"\"}}),t._v(\" \"),n(\"div\",{staticClass:\"cell-body text-one-line\",class:{\"cursor-pointer\":t.cursorPointer}},[n(\"span\",[t._v(t._s(t.data.name.length>20?t.data.name.substring(0,20)+\"...\":t.data.name))])]),t._v(\" \"),n(\"div\",{staticClass:\"size\"},[t._v(\"\\n    (\"+t._s(t._f(\"getFileSize\")(t.data.size))+\")\\n  \")]),t._v(\" \"),n(\"div\",{staticClass:\"cell-foot\"},[t.previewShow?n(\"span\",{staticClass:\"xr-text-btn primary\",on:{click:t.previewClick}},[t._v(\"预览\")]):t._e(),t._v(\" \"),n(\"span\",{staticClass:\"xr-text-btn primary\",on:{click:t.downloadClick}},[t._v(\"下载\")]),t._v(\" \"),t.showDelete?n(\"span\",{staticClass:\"xr-text-btn delete\",on:{click:t.deleteClick}},[t._v(\"删除\")]):t._e()])])},[],!1,null,\"4a3d86b8\",null);c.options.__file=\"index.vue\";e.default=c.exports},yWhj:function(t,e,a){},zsVz:function(t,e,a){\"use strict\";a.d(e,\"g\",function(){return s}),a.d(e,\"e\",function(){return i}),a.d(e,\"a\",function(){return o}),a.d(e,\"b\",function(){return c}),a.d(e,\"d\",function(){return l}),a.d(e,\"c\",function(){return r}),a.d(e,\"f\",function(){return d}),a.d(e,\"h\",function(){return u});var n=a(\"t3Un\");function s(t){return Object(n.a)({url:\"oaTask/queryTaskList\",method:\"post\",data:t,headers:{\"Content-Type\":\"application/json;charset=UTF-8\"}})}function i(t){return Object(n.a)({url:\"workTask/saveWorkTask\",method:\"post\",data:t,headers:{\"Content-Type\":\"application/json;charset=UTF-8\"}})}function o(t){return Object(n.a)({url:\"workTask/queryTaskInfo/\"+t.taskId,method:\"post\"})}function c(t){return Object(n.a)({url:\"workTask/queryTrashTaskInfo\",method:\"post\",data:t})}function l(t){return Object(n.a)({url:\"workTaskLog/queryTaskLog/\"+t.taskId,method:\"post\"})}function r(t){return Object(n.a)({url:\"workTaskRelation/saveWorkTaskRelation\",method:\"post\",data:t,headers:{\"Content-Type\":\"application/json;charset=UTF-8\"}})}function d(t){return Object(n.a)({url:\"oaTask/deleteWorkTaskLabel\",method:\"post\",data:t,headers:{\"Content-Type\":\"application/json;charset=UTF-8\"}})}function u(t){return Object(n.a)({url:\"oaTask/oaTaskExport\",method:\"post\",data:t,responseType:\"blob\",headers:{\"Content-Type\":\"application/json;charset=UTF-8\"}})}}}]);","extractedComments":[]}